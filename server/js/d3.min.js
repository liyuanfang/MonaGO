!function(){function f(a){return a&&(a.ownerDocument||a.document||a).documentElement}function g(a){return a&&(a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView)}function m(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function n(a){return null===a?NaN:+a}function o(a){return!isNaN(a)}function p(a){return{left:function(b,c,d,e){for(arguments.length<3&&(d=0),arguments.length<4&&(e=b.length);d<e;){var f=d+e>>>1;a(b[f],c)<0?d=f+1:e=f}return d},right:function(b,c,d,e){for(arguments.length<3&&(d=0),arguments.length<4&&(e=b.length);d<e;){var f=d+e>>>1;a(b[f],c)>0?e=f:d=f+1}return d}}}function r(a){return a.length}function t(a){for(var b=1;a*b%1;)b*=10;return b}function u(a,b){for(var c in b)Object.defineProperty(a.prototype,c,{value:b[c],enumerable:!1})}function w(){this._=Object.create(null)}function z(a){return(a+="")===x||a[0]===y?y+a:a}function A(a){return(a+="")[0]===y?a.slice(1):a}function B(a){return z(a)in this._}function C(a){return(a=z(a))in this._&&delete this._[a]}function D(){var a=[];for(var b in this._)a.push(A(b));return a}function E(){var a=0;for(var b in this._)++a;return a}function F(){for(var a in this._)return!1;return!0}function G(){this._=Object.create(null)}function H(a){return a}function I(a,b,c){return function(){var d=c.apply(b,arguments);return d===b?a:d}}function J(a,b){if(b in a)return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(var c=0,d=K.length;c<d;++c){var e=K[c]+b;if(e in a)return e}}function L(){}function M(){}function N(a){function d(){for(var f,c=b,d=-1,e=c.length;++d<e;)(f=c[d].on)&&f.apply(this,arguments);return a}var b=[],c=new w;return d.on=function(d,e){var g,f=c.get(d);return arguments.length<2?f&&f.on:(f&&(f.on=null,b=b.slice(0,g=b.indexOf(f)).concat(b.slice(g+1)),c.remove(d)),e&&b.push(c.set(d,{on:e})),a)},d}function O(){b.event.preventDefault()}function P(){for(var c,a=b.event;c=a.sourceEvent;)a=c;return a}function Q(a){for(var c=new M,d=0,e=arguments.length;++d<e;)c[arguments[d]]=N(c);return c.of=function(d,e){return function(f){try{var g=f.sourceEvent=b.event;f.target=a,b.event=f,c[f.type].apply(d,e)}finally{b.event=g}}},c}function T(a){return S(a,X),a}function Y(a){return"function"==typeof a?a:function(){return U(a,this)}}function Z(a){return"function"==typeof a?a:function(){return V(a,this)}}function aa(a,c){function d(){this.removeAttribute(a)}function e(){this.removeAttributeNS(a.space,a.local)}function f(){this.setAttribute(a,c)}function g(){this.setAttributeNS(a.space,a.local,c)}function h(){var b=c.apply(this,arguments);null==b?this.removeAttribute(a):this.setAttribute(a,b)}function i(){var b=c.apply(this,arguments);null==b?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,b)}return a=b.ns.qualify(a),null==c?a.local?e:d:"function"==typeof c?a.local?i:h:a.local?g:f}function ba(a){return a.trim().replace(/\s+/g," ")}function ca(a){return new RegExp("(?:^|\\s+)"+b.requote(a)+"(?:\\s+|$)","g")}function da(a){return(a+"").trim().split(/^|\s+/)}function ea(a,b){function d(){for(var d=-1;++d<c;)a[d](this,b)}function e(){for(var d=-1,e=b.apply(this,arguments);++d<c;)a[d](this,e)}a=da(a).map(fa);var c=a.length;return"function"==typeof b?e:d}function fa(a){var b=ca(a);return function(c,d){if(e=c.classList)return d?e.add(a):e.remove(a);var e=c.getAttribute("class")||"";d?(b.lastIndex=0,b.test(e)||c.setAttribute("class",ba(e+" "+a))):c.setAttribute("class",ba(e.replace(b," ")))}}function ga(a,b,c){function d(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,b,c)}function f(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}return null==b?d:"function"==typeof b?f:e}function ha(a,b){function c(){delete this[a]}function d(){this[a]=b}function e(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}return null==b?c:"function"==typeof b?e:d}function ia(a){function c(){var b=this.ownerDocument,c=this.namespaceURI;return c===$&&b.documentElement.namespaceURI===$?b.createElement(a):b.createElementNS(c,a)}function d(){return this.ownerDocument.createElementNS(a.space,a.local)}return"function"==typeof a?a:(a=b.ns.qualify(a)).local?d:c}function ja(){var a=this.parentNode;a&&a.removeChild(this)}function ka(a){return{__data__:a}}function la(a){return function(){return W(this,a)}}function ma(a){return arguments.length||(a=m),function(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}}function na(a,b){for(var c=0,d=a.length;c<d;c++)for(var h,e=a[c],f=0,g=e.length;f<g;f++)(h=e[f])&&b(h,f,c);return a}function oa(a){return S(a,pa),a}function qa(a){var b,c;return function(d,e,f){var i,g=a[f].update,h=g.length;for(f!=c&&(c=f,b=0),e>=b&&(b=e+1);!(i=g[b])&&++b<h;);return i}}function ra(a,c,e){function j(){var b=this[f];b&&(this.removeEventListener(a,b,b.$),delete this[f])}function k(){var b=h(c,d(arguments));j.call(this),this.addEventListener(a,this[f]=b,b.$=e),b._=c}function l(){var d,c=new RegExp("^__on([^.]+)"+b.requote(a)+"$");for(var e in this)if(d=e.match(c)){var f=this[e];this.removeEventListener(d[1],f,f.$),delete this[e]}}var f="__on"+a,g=a.indexOf("."),h=ta;g>0&&(a=a.slice(0,g));var i=sa.get(a);return i&&(a=i,h=ua),g?c?k:j:c?L:l}function ta(a,c){return function(d){var e=b.event;b.event=d,c[0]=this.__data__;try{a.apply(this,c)}finally{b.event=e}}}function ua(a,b){var c=ta(a,b);return function(a){var b=this,d=a.relatedTarget;d&&(d===b||8&d.compareDocumentPosition(b))||c.call(b,a)}}function xa(a){var c=".dragsuppress-"+ ++wa,d="click"+c,e=b.select(g(a)).on("touchmove"+c,O).on("dragstart"+c,O).on("selectstart"+c,O);if(null==va&&(va=!("onselectstart"in a)&&J(a.style,"userSelect")),va){var h=f(a).style,i=h[va];h[va]="none"}return function(a){if(e.on(c,null),va&&(h[va]=i),a){var b=function(){e.on(d,null)};e.on(d,function(){O(),b()},!0),setTimeout(b,0)}}}function za(a,c){c.changedTouches&&(c=c.changedTouches[0]);var d=a.ownerSVGElement||a;if(d.createSVGPoint){var e=d.createSVGPoint();if(ya<0){var f=g(a);if(f.scrollX||f.scrollY){d=b.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var h=d[0][0].getScreenCTM();ya=!(h.f||h.e),d.remove()}}return ya?(e.x=c.pageX,e.y=c.pageY):(e.x=c.clientX,e.y=c.clientY),e=e.matrixTransform(a.getScreenCTM().inverse()),[e.x,e.y]}var i=a.getBoundingClientRect();return[c.clientX-i.left-a.clientLeft,c.clientY-i.top-a.clientTop]}function Aa(){return b.event.changedTouches[0].identifier}function Ja(a){return a>0?1:a<0?-1:0}function Ka(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function La(a){return a>1?0:a<-1?Da:Math.acos(a)}function Ma(a){return a>1?Ga:a<-1?-Ga:Math.asin(a)}function Na(a){return((a=Math.exp(a))-1/a)/2}function Oa(a){return((a=Math.exp(a))+1/a)/2}function Pa(a){return((a=Math.exp(2*a))-1)/(a+1)}function Qa(a){return(a=Math.sin(a/2))*a}function Xa(){}function Ya(a,b,c){return this instanceof Ya?(this.h=+a,this.s=+b,void(this.l=+c)):arguments.length<2?a instanceof Ya?new Ya(a.h,a.s,a.l):sb(""+a,tb,Ya):new Ya(a,b,c)}function $a(a,b,c){function f(a){return a>360?a-=360:a<0&&(a+=360),a<60?d+(e-d)*a/60:a<180?e:a<240?d+(e-d)*(240-a)/60:d}function g(a){return Math.round(255*f(a))}var d,e;return a=isNaN(a)?0:(a%=360)<0?a+360:a,b=isNaN(b)?0:b<0?0:b>1?1:b,c=c<0?0:c>1?1:c,e=c<=.5?c*(1+b):c+b-c*b,d=2*c-e,new nb(g(a+120),g(a),g(a-120))}function _a(a,c,d){return this instanceof _a?(this.h=+a,this.c=+c,void(this.l=+d)):arguments.length<2?a instanceof _a?new _a(a.h,a.c,a.l):a instanceof cb?jb(a.l,a.a,a.b):jb((a=ub((a=b.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new _a(a,c,d)}function bb(a,b,c){return isNaN(a)&&(a=0),isNaN(b)&&(b=0),new cb(c,Math.cos(a*=Ha)*b,Math.sin(a)*b)}function cb(a,b,c){return this instanceof cb?(this.l=+a,this.a=+b,void(this.b=+c)):arguments.length<2?a instanceof cb?new cb(a.l,a.a,a.b):a instanceof _a?bb(a.h,a.c,a.l):ub((a=nb(a)).r,a.g,a.b):new cb(a,b,c)}function ib(a,b,c){var d=(a+16)/116,e=d+b/500,f=d-c/200;return e=kb(e)*eb,d=kb(d)*fb,f=kb(f)*gb,new nb(mb(3.2404542*e-1.5371385*d-.4985314*f),mb(-.969266*e+1.8760108*d+.041556*f),mb(.0556434*e-.2040259*d+1.0572252*f))}function jb(a,b,c){return a>0?new _a(Math.atan2(c,b)*Ia,Math.sqrt(b*b+c*c),a):new _a(NaN,NaN,a)}function kb(a){return a>.206893034?a*a*a:(a-4/29)/7.787037}function lb(a){return a>.008856?Math.pow(a,1/3):7.787037*a+4/29}function mb(a){return Math.round(255*(a<=.00304?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}function nb(a,b,c){return this instanceof nb?(this.r=~~a,this.g=~~b,void(this.b=~~c)):arguments.length<2?a instanceof nb?new nb(a.r,a.g,a.b):sb(""+a,nb,$a):new nb(a,b,c)}function ob(a){return new nb(a>>16,a>>8&255,255&a)}function pb(a){return ob(a)+""}function rb(a){return a<16?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function sb(a,b,c){var g,h,i,d=0,e=0,f=0;if(g=/([a-z]+)\((.*)\)/.exec(a=a.toLowerCase()))switch(h=g[2].split(","),g[1]){case"hsl":return c(parseFloat(h[0]),parseFloat(h[1])/100,parseFloat(h[2])/100);case"rgb":return b(wb(h[0]),wb(h[1]),wb(h[2]))}return(i=xb.get(a))?b(i.r,i.g,i.b):(null==a||"#"!==a.charAt(0)||isNaN(i=parseInt(a.slice(1),16))||(4===a.length?(d=(3840&i)>>4,d|=d>>4,e=240&i,e|=e>>4,f=15&i,f|=f<<4):7===a.length&&(d=(16711680&i)>>16,e=(65280&i)>>8,f=255&i)),b(d,e,f))}function tb(a,b,c){var g,h,d=Math.min(a/=255,b/=255,c/=255),e=Math.max(a,b,c),f=e-d,i=(e+d)/2;return f?(h=i<.5?f/(e+d):f/(2-e-d),g=a==e?(b-c)/f+(b<c?6:0):b==e?(c-a)/f+2:(a-b)/f+4,g*=60):(g=NaN,h=i>0&&i<1?0:g),new Ya(g,h,i)}function ub(a,b,c){a=vb(a),b=vb(b),c=vb(c);var d=lb((.4124564*a+.3575761*b+.1804375*c)/eb),e=lb((.2126729*a+.7151522*b+.072175*c)/fb),f=lb((.0193339*a+.119192*b+.9503041*c)/gb);return cb(116*e-16,500*(d-e),200*(e-f))}function vb(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function wb(a){var b=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*b):b}function yb(a){return"function"==typeof a?a:function(){return a}}function zb(a){return function(b,c,d){return 2===arguments.length&&"function"==typeof c&&(d=c,c=null),Ab(b,c,a,d)}}function Ab(a,c,e,f){function l(){var b,a=j.status;if(!a&&Cb(j)||a>=200&&a<300||304===a){try{b=e.call(g,j)}catch(a){return void h.error.call(g,a)}h.load.call(g,b)}else h.error.call(g,j)}var g={},h=b.dispatch("beforesend","progress","load","error"),i={},j=new XMLHttpRequest,k=null;return!this.XDomainRequest||"withCredentials"in j||!/^(http(s)?:)?\/\//.test(a)||(j=new XDomainRequest),"onload"in j?j.onload=j.onerror=l:j.onreadystatechange=function(){j.readyState>3&&l()},j.onprogress=function(a){var c=b.event;b.event=a;try{h.progress.call(g,j)}finally{b.event=c}},g.header=function(a,b){return a=(a+"").toLowerCase(),arguments.length<2?i[a]:(null==b?delete i[a]:i[a]=b+"",g)},g.mimeType=function(a){return arguments.length?(c=null==a?null:a+"",g):c},g.responseType=function(a){return arguments.length?(k=a,g):k},g.response=function(a){return e=a,g},["get","post"].forEach(function(a){g[a]=function(){return g.send.apply(g,[a].concat(d(arguments)))}}),g.send=function(b,d,e){if(2===arguments.length&&"function"==typeof d&&(e=d,d=null),j.open(b,a,!0),null==c||"accept"in i||(i.accept=c+",*/*"),j.setRequestHeader)for(var f in i)j.setRequestHeader(f,i[f]);return null!=c&&j.overrideMimeType&&j.overrideMimeType(c),null!=k&&(j.responseType=k),null!=e&&g.on("error",e).on("load",function(a){e(null,a)}),h.beforesend.call(g,j),j.send(null==d?null:d),g},g.abort=function(){return j.abort(),g},b.rebind(g,h,"on"),null==f?g:g.get(Bb(f))}function Bb(a){return 1===a.length?function(b,c){a(null==b?c:null)}:a}function Cb(a){var b=a.responseType;return b&&"text"!==b?a.response:a.responseText}function Ib(a,b,c){var d=arguments.length;d<2&&(b=0),d<3&&(c=Date.now());var e=c+b,f={c:a,t:e,n:null};return Eb?Eb.n=f:Db=f,Eb=f,Fb||(Gb=clearTimeout(Gb),Fb=1,Hb(Jb)),f}function Jb(){var a=Kb(),b=Lb()-a;b>24?(isFinite(b)&&(clearTimeout(Gb),Gb=setTimeout(Jb,b)),Fb=0):(Fb=1,Hb(Jb))}function Kb(){for(var a=Date.now(),b=Db;b;)a>=b.t&&b.c(a-b.t)&&(b.c=null),b=b.n;return a}function Lb(){for(var a,b=Db,c=1/0;b;)b.c?(b.t<c&&(c=b.t),b=(a=b).n):b=a?a.n=b.n:Db=b.n;return Eb=a,c}function Mb(a,b){return b-(a?Math.ceil(Math.log(a)/Math.LN10):1)}function Ob(a,b){var c=Math.pow(10,3*s(8-b));return{scale:b>8?function(a){return a/c}:function(a){return a*c},symbol:a}}function Pb(a){var c=a.decimal,d=a.thousands,e=a.grouping,f=a.currency,g=e&&d?function(a,b){for(var c=a.length,f=[],g=0,h=e[0],i=0;c>0&&h>0&&(i+h+1>b&&(h=Math.max(1,b-i)),f.push(a.substring(c-=h,c+h)),!((i+=h+1)>b));)h=e[g=(g+1)%e.length];return f.reverse().join(d)}:H;return function(a){var d=Qb.exec(a),e=d[1]||" ",h=d[2]||">",i=d[3]||"-",j=d[4]||"",k=d[5],l=+d[6],m=d[7],n=d[8],o=d[9],p=1,q="",r="",s=!1,t=!0;switch(n&&(n=+n.substring(1)),(k||"0"===e&&"="===h)&&(k=e="0",h="="),o){case"n":m=!0,o="g";break;case"%":p=100,r="%",o="f";break;case"p":p=100,r="%",o="r";break;case"b":case"o":case"x":case"X":"#"===j&&(q="0"+o.toLowerCase());case"c":t=!1;case"d":s=!0,n=0;break;case"s":p=-1,o="r"}"$"===j&&(q=f[0],r=f[1]),"r"!=o||n||(o="g"),null!=n&&("g"==o?n=Math.max(1,Math.min(21,n)):"e"!=o&&"f"!=o||(n=Math.max(0,Math.min(20,n)))),o=Rb.get(o)||Sb;var u=k&&m;return function(a){var d=r;if(s&&a%1)return"";var f=a<0||0===a&&1/a<0?(a=-a,"-"):"-"===i?"":i;if(p<0){var j=b.formatPrefix(a,n);a=j.scale(a),d=j.symbol+r}else a*=p;a=o(a,n);var w,x,v=a.lastIndexOf(".");if(v<0){var y=t?a.lastIndexOf("e"):-1;y<0?(w=a,x=""):(w=a.substring(0,y),x=a.substring(y))}else w=a.substring(0,v),x=c+a.substring(v+1);!k&&m&&(w=g(w,1/0));var z=q.length+w.length+x.length+(u?0:f.length),A=z<l?new Array(z=l-z+1).join(e):"";return u&&(w=g(A+w,A.length?l-x.length:1/0)),f+=q,a=w+x,("<"===h?f+a+A:">"===h?A+f+a:"^"===h?A.substring(0,z>>=1)+f+a+A.substring(z):f+(u?a:A+a))+d}}}function Sb(a){return a+""}function Vb(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Xb(a,b,c){function d(b){var c=a(b),d=f(c,1);return b-c<d-b?c:d}function e(c){return b(c=a(new Ub(c-1)),1),c}function f(a,c){return b(a=new Ub(+a),c),a}function g(a,d,f){var g=e(a),h=[];if(f>1)for(;g<d;)c(g)%f||h.push(new Date(+g)),b(g,1);else for(;g<d;)h.push(new Date(+g)),b(g,1);return h}function h(a,b,c){try{Ub=Vb;var d=new Vb;return d._=a,g(d,b,c)}finally{Ub=Date}}a.floor=a,a.round=d,a.ceil=e,a.offset=f,a.range=g;var i=a.utc=Yb(a);return i.floor=i,i.round=Yb(d),i.ceil=Yb(e),i.offset=Yb(f),i.range=h,a}function Yb(a){return function(b,c){try{Ub=Vb;var d=new Vb;return d._=b,a(d,c)._}finally{Ub=Date}}}function Zb(a){function k(a){function c(c){for(var g,h,i,d=[],e=-1,f=0;++e<b;)37===a.charCodeAt(e)&&(d.push(a.slice(f,e)),null!=(h=$b[g=a.charAt(++e)])&&(g=a.charAt(++e)),(i=v[g])&&(g=i(c,null==h?"e"===g?" ":"0":h)),d.push(g),f=e+1);return d.push(a.slice(f,e)),d.join("")}var b=a.length;return c.parse=function(b){var c={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},d=l(c,a,b,0);if(d!=b.length)return null;"p"in c&&(c.H=c.H%12+12*c.p);var e=null!=c.Z&&Ub!==Vb,f=new(e?Vb:Ub);return"j"in c?f.setFullYear(c.y,0,c.j):"W"in c||"U"in c?("w"in c||(c.w="W"in c?1:0),f.setFullYear(c.y,0,1),f.setFullYear(c.y,0,"W"in c?(c.w+6)%7+7*c.W-(f.getDay()+5)%7:c.w+7*c.U-(f.getDay()+6)%7)):f.setFullYear(c.y,c.m,c.d),f.setHours(c.H+(c.Z/100|0),c.M+c.Z%100,c.S,c.L),e?f._:f},c.toString=function(){return a},c}function l(a,b,c,d){for(var e,f,g,h=0,i=b.length,j=c.length;h<i;){if(d>=j)return-1;if(e=b.charCodeAt(h++),37===e){if(g=b.charAt(h++),f=w[g in $b?b.charAt(h++):g],!f||(d=f(a,c,d))<0)return-1}else if(e!=c.charCodeAt(d++))return-1}return d}function x(a,b,c){p.lastIndex=0;var d=p.exec(b.slice(c));return d?(a.w=q.get(d[0].toLowerCase()),c+d[0].length):-1}function y(a,b,c){n.lastIndex=0;var d=n.exec(b.slice(c));return d?(a.w=o.get(d[0].toLowerCase()),c+d[0].length):-1}function z(a,b,c){t.lastIndex=0;var d=t.exec(b.slice(c));return d?(a.m=u.get(d[0].toLowerCase()),c+d[0].length):-1}function A(a,b,c){r.lastIndex=0;var d=r.exec(b.slice(c));return d?(a.m=s.get(d[0].toLowerCase()),c+d[0].length):-1}function B(a,b,c){return l(a,v.c.toString(),b,c)}function C(a,b,c){return l(a,v.x.toString(),b,c)}function D(a,b,c){return l(a,v.X.toString(),b,c)}function E(a,b,c){var d=m.get(b.slice(c,c+=2).toLowerCase());return null==d?-1:(a.p=d,c)}var c=a.dateTime,d=a.date,e=a.time,f=a.periods,g=a.days,h=a.shortDays,i=a.months,j=a.shortMonths;k.utc=function(a){function c(a){try{Ub=Vb;var c=new Ub;return c._=a,b(c)}finally{Ub=Date}}var b=k(a);return c.parse=function(a){try{Ub=Vb;var c=b.parse(a);return c&&c._}finally{Ub=Date}},c.toString=b.toString,c},k.multi=k.utc.multi=uc;var m=b.map(),n=cc(g),o=dc(g),p=cc(h),q=dc(h),r=cc(i),s=dc(i),t=cc(j),u=dc(j);f.forEach(function(a,b){m.set(a.toLowerCase(),b)});var v={a:function(a){return h[a.getDay()]},A:function(a){return g[a.getDay()]},b:function(a){return j[a.getMonth()]},B:function(a){return i[a.getMonth()]},c:k(c),d:function(a,b){return bc(a.getDate(),b,2)},e:function(a,b){return bc(a.getDate(),b,2)},H:function(a,b){return bc(a.getHours(),b,2)},I:function(a,b){return bc(a.getHours()%12||12,b,2)},j:function(a,b){return bc(1+Tb.dayOfYear(a),b,3)},L:function(a,b){return bc(a.getMilliseconds(),b,3)},m:function(a,b){return bc(a.getMonth()+1,b,2)},M:function(a,b){return bc(a.getMinutes(),b,2)},p:function(a){return f[+(a.getHours()>=12)]},S:function(a,b){return bc(a.getSeconds(),b,2)},U:function(a,b){return bc(Tb.sundayOfYear(a),b,2)},w:function(a){return a.getDay()},W:function(a,b){return bc(Tb.mondayOfYear(a),b,2)},x:k(d),X:k(e),y:function(a,b){return bc(a.getFullYear()%100,b,2)},Y:function(a,b){return bc(a.getFullYear()%1e4,b,4)},Z:sc,"%":function(){return"%"}},w={a:x,A:y,b:z,B:A,c:B,d:mc,e:mc,H:oc,I:oc,j:nc,L:rc,m:lc,M:pc,p:E,S:qc,U:fc,w:ec,W:gc,x:C,X:D,y:ic,Y:hc,Z:jc,"%":tc};return k}function bc(a,b,c){var d=a<0?"-":"",e=(d?-a:a)+"",f=e.length;return d+(f<c?new Array(c-f+1).join(b)+e:e)}function cc(a){return new RegExp("^(?:"+a.map(b.requote).join("|")+")","i")}function dc(a){for(var b=new w,c=-1,d=a.length;++c<d;)b.set(a[c].toLowerCase(),c);return b}function ec(a,b,c){_b.lastIndex=0;var d=_b.exec(b.slice(c,c+1));return d?(a.w=+d[0],c+d[0].length):-1}function fc(a,b,c){_b.lastIndex=0;var d=_b.exec(b.slice(c));return d?(a.U=+d[0],c+d[0].length):-1}function gc(a,b,c){_b.lastIndex=0;var d=_b.exec(b.slice(c));return d?(a.W=+d[0],c+d[0].length):-1}function hc(a,b,c){_b.lastIndex=0;var d=_b.exec(b.slice(c,c+4));return d?(a.y=+d[0],c+d[0].length):-1}function ic(a,b,c){_b.lastIndex=0;var d=_b.exec(b.slice(c,c+2));return d?(a.y=kc(+d[0]),c+d[0].length):-1}function jc(a,b,c){return/^[+-]\d{4}$/.test(b=b.slice(c,c+5))?(a.Z=-b,c+5):-1}function kc(a){return a+(a>68?1900:2e3)}function lc(a,b,c){_b.lastIndex=0;var d=_b.exec(b.slice(c,c+2));return d?(a.m=d[0]-1,c+d[0].length):-1}function mc(a,b,c){_b.lastIndex=0;var d=_b.exec(b.slice(c,c+2));return d?(a.d=+d[0],c+d[0].length):-1}function nc(a,b,c){_b.lastIndex=0;var d=_b.exec(b.slice(c,c+3));return d?(a.j=+d[0],c+d[0].length):-1}function oc(a,b,c){_b.lastIndex=0;var d=_b.exec(b.slice(c,c+2));return d?(a.H=+d[0],c+d[0].length):-1}function pc(a,b,c){_b.lastIndex=0;var d=_b.exec(b.slice(c,c+2));return d?(a.M=+d[0],c+d[0].length):-1}function qc(a,b,c){_b.lastIndex=0;var d=_b.exec(b.slice(c,c+2));return d?(a.S=+d[0],c+d[0].length):-1}function rc(a,b,c){_b.lastIndex=0;var d=_b.exec(b.slice(c,c+3));return d?(a.L=+d[0],c+d[0].length):-1}function sc(a){var b=a.getTimezoneOffset(),c=b>0?"-":"+",d=s(b)/60|0,e=s(b)%60;return c+bc(d,"0",2)+bc(e,"0",2)}function tc(a,b,c){ac.lastIndex=0;var d=ac.exec(b.slice(c,c+1));return d?c+d[0].length:-1}function uc(a){for(var b=a.length,c=-1;++c<b;)a[c][0]=this(a[c][0]);return function(b){for(var c=0,d=a[c];!d[1](b);)d=a[++c];return d[0](b)}}function wc(){}function yc(a,b,c){var d=c.s=a+b,e=d-a,f=d-e;c.t=a-f+(b-e)}function zc(a,b){a&&Bc.hasOwnProperty(a.type)&&Bc[a.type](a,b)}function Cc(a,b,c){var f,d=-1,e=a.length-c;for(b.lineStart();++d<e;)f=a[d],b.point(f[0],f[1],f[2]);b.lineEnd()}function Dc(a,b){var c=-1,d=a.length;for(b.polygonStart();++c<d;)Cc(a[c],b,1);b.polygonEnd()}function Hc(){function f(a,b){a*=Ha,b=b*Ha/2+Da/4;var f=a-c,g=f>=0?1:-1,h=g*f,i=Math.cos(b),j=Math.sin(b),k=e*j,l=d*i+k*Math.cos(h),m=k*g*Math.sin(h);Fc.add(Math.atan2(m,l)),c=a,d=i,e=j}var a,b,c,d,e;Gc.point=function(g,h){Gc.point=f,c=(a=g)*Ha,d=Math.cos(h=(b=h)*Ha/2+Da/4),e=Math.sin(h)},Gc.lineEnd=function(){f(a,b)}}function Ic(a){var b=a[0],c=a[1],d=Math.cos(c);return[d*Math.cos(b),d*Math.sin(b),Math.sin(c)]}function Jc(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function Kc(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function Lc(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function Mc(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function Nc(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b,a[1]/=b,a[2]/=b}function Oc(a){return[Math.atan2(a[1],a[0]),Ma(a[2])]}function Pc(a,b){return s(a[0]-b[0])<Ba&&s(a[1]-b[1])<Ba}function ad(a,b){a*=Ha;var c=Math.cos(b*=Ha);bd(c*Math.cos(a),c*Math.sin(a),Math.sin(b))}function bd(a,b,c){++Qc,Sc+=(a-Sc)/Qc,Tc+=(b-Tc)/Qc,Uc+=(c-Uc)/Qc}function cd(){function d(d,e){d*=Ha;var f=Math.cos(e*=Ha),g=f*Math.cos(d),h=f*Math.sin(d),i=Math.sin(e),j=Math.atan2(Math.sqrt((j=b*i-c*h)*j+(j=c*g-a*i)*j+(j=a*h-b*g)*j),a*g+b*h+c*i);Rc+=j,Vc+=j*(a+(a=g)),Wc+=j*(b+(b=h)),Xc+=j*(c+(c=i)),bd(a,b,c)}var a,b,c;_c.point=function(e,f){e*=Ha;var g=Math.cos(f*=Ha);a=g*Math.cos(e),b=g*Math.sin(e),c=Math.sin(f),_c.point=d,bd(a,b,c)}}function dd(){_c.point=ad}function ed(){function f(a,b){a*=Ha;var f=Math.cos(b*=Ha),g=f*Math.cos(a),h=f*Math.sin(a),i=Math.sin(b),j=d*i-e*h,k=e*g-c*i,l=c*h-d*g,m=Math.sqrt(j*j+k*k+l*l),n=c*g+d*h+e*i,o=m&&-La(n)/m,p=Math.atan2(m,n);Yc+=o*j,Zc+=o*k,$c+=o*l,Rc+=p,Vc+=p*(c+(c=g)),Wc+=p*(d+(d=h)),Xc+=p*(e+(e=i)),bd(c,d,e)}var a,b,c,d,e;_c.point=function(g,h){a=g,b=h,_c.point=f,g*=Ha;var i=Math.cos(h*=Ha);c=i*Math.cos(g),d=i*Math.sin(g),e=Math.sin(h),bd(c,d,e)},_c.lineEnd=function(){f(a,b),_c.lineEnd=dd,_c.point=ad}}function fd(a,b){function c(c,d){return c=a(c,d),b(c[0],c[1])}return a.invert&&b.invert&&(c.invert=function(c,d){return c=b.invert(c,d),c&&a.invert(c[0],c[1])}),c}function gd(){return!0}function hd(a,b,c,d,e){var f=[],g=[];if(a.forEach(function(a){if(!((b=a.length-1)<=0)){var b,c=a[0],d=a[b];if(Pc(c,d)){e.lineStart();for(var h=0;h<b;++h)e.point((c=a[h])[0],c[1]);return void e.lineEnd()}var i=new jd(c,a,null,!0),j=new jd(c,null,i,!1);i.o=j,f.push(i),g.push(j),i=new jd(d,a,null,!1),j=new jd(d,null,i,!0),i.o=j,f.push(i),g.push(j)}}),g.sort(b),id(f),id(g),f.length){for(var h=0,i=c,j=g.length;h<j;++h)g[h].e=i=!i;for(var l,m,k=f[0];;){for(var n=k,o=!0;n.v;)if((n=n.n)===k)return;l=n.z,e.lineStart();do{if(n.v=n.o.v=!0,n.e){if(o)for(var h=0,j=l.length;h<j;++h)e.point((m=l[h])[0],m[1]);else d(n.x,n.n.x,1,e);n=n.n}else{if(o){l=n.p.z;for(var h=l.length-1;h>=0;--h)e.point((m=l[h])[0],m[1])}else d(n.x,n.p.x,-1,e);n=n.p}n=n.o,l=n.z,o=!o}while(!n.v);e.lineEnd()}}}function id(a){if(b=a.length){for(var b,e,c=0,d=a[0];++c<b;)d.n=e=a[c],e.p=d,d=e;d.n=e=a[0],e.p=d}}function jd(a,b,c,d){this.x=a,this.z=b,this.o=c,this.e=d,this.v=!1,this.n=this.p=null}function kd(a,c,d,e){return function(f,g){function k(b,c){var d=f(b,c);a(b=d[0],c=d[1])&&g.point(b,c)}function l(a,b){var c=f(a,b);h.point(c[0],c[1])}function m(){j.point=l,h.lineStart()}function n(){j.point=k,h.lineEnd()}function u(a,b){t.push([a,b]);var c=f(a,b);q.point(c[0],c[1])}function v(){q.lineStart(),t=[]}function w(){u(t[0][0],t[0][1]),q.lineEnd();var c,a=q.clean(),b=p.buffer(),d=b.length;if(t.pop(),s.push(t),t=null,d)if(1&a){c=b[0];var f,d=c.length-1,e=-1;if(d>0){for(r||(g.polygonStart(),r=!0),g.lineStart();++e<d;)g.point((f=c[e])[0],f[1]);g.lineEnd()}}else d>1&&2&a&&b.push(b.pop().concat(b.shift())),o.push(b.filter(ld))}var o,s,t,h=c(g),i=f.invert(e[0],e[1]),j={point:k,lineStart:m,lineEnd:n,polygonStart:function(){j.point=u,j.lineStart=v,j.lineEnd=w,o=[],s=[]},polygonEnd:function(){j.point=k,j.lineStart=m,j.lineEnd=n,o=b.merge(o);var a=sd(i,s);o.length?(r||(g.polygonStart(),r=!0),hd(o,nd,a,d,g)):a&&(r||(g.polygonStart(),r=!0),g.lineStart(),d(null,null,1,g),g.lineEnd()),r&&(g.polygonEnd(),r=!1),o=s=null},sphere:function(){g.polygonStart(),g.lineStart(),d(null,null,1,g),g.lineEnd(),g.polygonEnd()}},p=md(),q=c(p),r=!1;return j}}function ld(a){return a.length>1}function md(){var b,a=[];return{lineStart:function(){a.push(b=[])},point:function(a,c){b.push([a,c])},lineEnd:L,buffer:function(){var c=a;return a=[],b=null,c},rejoin:function(){a.length>1&&a.push(a.pop().concat(a.shift()))}}}function nd(a,b){return((a=a.x)[0]<0?a[1]-Ga-Ba:Ga-a[1])-((b=b.x)[0]<0?b[1]-Ga-Ba:Ga-b[1])}function pd(a){var e,b=NaN,c=NaN,d=NaN;return{lineStart:function(){a.lineStart(),e=1},point:function(f,g){var h=f>0?Da:-Da,i=s(f-b);s(i-Da)<Ba?(a.point(b,c=(c+g)/2>0?Ga:-Ga),a.point(d,c),a.lineEnd(),a.lineStart(),a.point(h,c),a.point(f,c),e=0):d!==h&&i>=Da&&(s(b-d)<Ba&&(b-=d*Ba),s(f-h)<Ba&&(f-=h*Ba),c=qd(b,c,f,g),a.point(d,c),a.lineEnd(),a.lineStart(),a.point(h,c),e=0),a.point(b=f,c=g),d=h},lineEnd:function(){a.lineEnd(),b=c=NaN},clean:function(){return 2-e}}}function qd(a,b,c,d){var e,f,g=Math.sin(a-c);return s(g)>Ba?Math.atan((Math.sin(b)*(f=Math.cos(d))*Math.sin(c)-Math.sin(d)*(e=Math.cos(b))*Math.sin(a))/(e*f*g)):(b+d)/2}function rd(a,b,c,d){var e;if(null==a)e=c*Ga,d.point(-Da,e),d.point(0,e),d.point(Da,e),d.point(Da,0),d.point(Da,-e),d.point(0,-e),d.point(-Da,-e),d.point(-Da,0),d.point(-Da,e);else if(s(a[0]-b[0])>Ba){var f=a[0]<b[0]?Da:-Da;e=c*f/2,d.point(-f,e),d.point(0,e),d.point(f,e)}else d.point(b[0],b[1])}function sd(a,b){var c=a[0],d=a[1],e=[Math.sin(c),-Math.cos(c),0],f=0,g=0;Fc.reset();for(var h=0,i=b.length;h<i;++h){var j=b[h],k=j.length;if(k)for(var l=j[0],m=l[0],n=l[1]/2+Da/4,o=Math.sin(n),p=Math.cos(n),q=1;;){q===k&&(q=0),a=j[q];var r=a[0],s=a[1]/2+Da/4,t=Math.sin(s),u=Math.cos(s),v=r-m,w=v>=0?1:-1,x=w*v,y=x>Da,z=o*t;if(Fc.add(Math.atan2(z*w*Math.sin(x),p*u+z*Math.cos(x))),f+=y?v+w*Ea:v,y^m>=c^r>=c){var A=Kc(Ic(l),Ic(a));Nc(A);var B=Kc(e,A);Nc(B);var C=(y^v>=0?-1:1)*Ma(B[2]);(d>C||d===C&&(A[0]||A[1]))&&(g+=y^v>=0?1:-1)}if(!q++)break;m=r,o=t,p=u,l=a}}return(f<-Ba||f<Ba&&Fc<-Ba)^1&g}function td(a){function f(a,c){return Math.cos(a)*Math.cos(c)>b}function g(a){var b,e,g,j,k;return{lineStart:function(){j=g=!1,k=1},point:function(l,m){var o,n=[l,m],p=f(l,m),q=c?p?0:i(l,m):p?i(l+(l<0?Da:-Da),m):0;if(!b&&(j=g=p)&&a.lineStart(),p!==g&&(o=h(b,n),(Pc(b,o)||Pc(n,o))&&(n[0]+=Ba,n[1]+=Ba,p=f(n[0],n[1]))),p!==g)k=0,p?(a.lineStart(),o=h(n,b),a.point(o[0],o[1])):(o=h(b,n),a.point(o[0],o[1]),a.lineEnd()),b=o;else if(d&&b&&c^p){var r;q&e||!(r=h(n,b,!0))||(k=0,c?(a.lineStart(),a.point(r[0][0],r[0][1]),a.point(r[1][0],r[1][1]),a.lineEnd()):(a.point(r[1][0],r[1][1]),a.lineEnd(),a.lineStart(),a.point(r[0][0],r[0][1])))}!p||b&&Pc(b,n)||a.point(n[0],n[1]),b=n,g=p,e=q},lineEnd:function(){g&&a.lineEnd(),b=null},clean:function(){return k|(j&&g)<<1}}}function h(a,c,d){var e=Ic(a),f=Ic(c),g=[1,0,0],h=Kc(e,f),i=Jc(h,h),j=h[0],k=i-j*j;if(!k)return!d&&a;var l=b*i/k,m=-b*j/k,n=Kc(g,h),o=Mc(g,l),p=Mc(h,m);Lc(o,p);var q=n,r=Jc(o,q),t=Jc(q,q),u=r*r-t*(Jc(o,o)-1);if(!(u<0)){var v=Math.sqrt(u),w=Mc(q,(-r-v)/t);if(Lc(w,o),w=Oc(w),!d)return w;var B,x=a[0],y=c[0],z=a[1],A=c[1];y<x&&(B=x,x=y,y=B);var C=y-x,D=s(C-Da)<Ba,E=D||C<Ba;if(!D&&A<z&&(B=z,z=A,A=B),E?D?z+A>0^w[1]<(s(w[0]-x)<Ba?z:A):z<=w[1]&&w[1]<=A:C>Da^(x<=w[0]&&w[0]<=y)){var F=Mc(q,(-r+v)/t);return Lc(F,o),[w,Oc(F)]}}}function i(b,d){var e=c?a:Da-a,f=0;return b<-e?f|=1:b>e&&(f|=2),d<-e?f|=4:d>e&&(f|=8),f}var b=Math.cos(a),c=b>0,d=s(b)>Ba,e=ce(a,6*Ha);return kd(f,g,e,c?[0,-a]:[-Da,a-Da])}function ud(a,b,c,d){return function(e){var p,f=e.a,g=e.b,h=f.x,i=f.y,j=g.x,k=g.y,l=0,m=1,n=j-h,o=k-i;if(p=a-h,n||!(p>0)){if(p/=n,n<0){if(p<l)return;p<m&&(m=p)}else if(n>0){if(p>m)return;p>l&&(l=p)}if(p=c-h,n||!(p<0)){if(p/=n,n<0){if(p>m)return;p>l&&(l=p)}else if(n>0){if(p<l)return;p<m&&(m=p)}if(p=b-i,o||!(p>0)){if(p/=o,o<0){if(p<l)return;p<m&&(m=p)}else if(o>0){if(p>m)return;p>l&&(l=p)}if(p=d-i,o||!(p<0)){if(p/=o,o<0){if(p>m)return;p>l&&(l=p)}else if(o>0){if(p<l)return;p<m&&(m=p)}return l>0&&(e.a={x:h+l*n,y:i+l*o}),m<1&&(e.b={x:h+m*n,y:i+m*o}),e}}}}}}function wd(a,c,d,e){function f(b,e){return s(b[0]-a)<Ba?e>0?0:3:s(b[0]-d)<Ba?e>0?2:1:s(b[1]-c)<Ba?e>0?1:0:e>0?3:2}function g(a,b){return h(a.x,b.x)}function h(a,b){var c=f(a,1),d=f(b,1);return c!==d?c-d:0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:b[0]-a[0]}return function(i){function q(a){for(var b=0,c=n.length,d=a[1],e=0;e<c;++e)for(var j,f=1,g=n[e],h=g.length,i=g[0];f<h;++f)j=g[f],i[1]<=d?j[1]>d&&Ka(i,j,a)>0&&++b:j[1]<=d&&Ka(i,j,a)<0&&--b,i=j;return 0!==b}function r(b,g,i,j){var k=0,l=0;if(null==b||(k=f(b,i))!==(l=f(g,i))||h(b,g)<0^i>0){do j.point(0===k||3===k?a:d,k>1?e:c);while((k=(k+i+4)%4)!==l)}else j.point(g[0],g[1])}function s(b,f){return a<=b&&b<=d&&c<=f&&f<=e}function t(a,b){s(a,b)&&i.point(a,b)}function C(){p.point=E,n&&n.push(o=[]),A=!0,z=!1,x=y=NaN}function D(){m&&(E(u,v),w&&z&&k.rejoin(),m.push(k.buffer())),p.point=t,z&&i.lineEnd()}function E(a,b){a=Math.max(-vd,Math.min(vd,a)),b=Math.max(-vd,Math.min(vd,b));var c=s(a,b);if(n&&o.push([a,b]),A)u=a,v=b,w=c,A=!1,c&&(i.lineStart(),i.point(a,b));else if(c&&z)i.point(a,b);else{var d={a:{x:x,y:y},b:{x:a,y:b}};l(d)?(z||(i.lineStart(),i.point(d.a.x,d.a.y)),i.point(d.b.x,d.b.y),c||i.lineEnd(),B=!1):c&&(i.lineStart(),i.point(a,b),B=!1)}x=a,y=b,z=c}var m,n,o,u,v,w,x,y,z,A,B,j=i,k=md(),l=ud(a,c,d,e),p={point:t,lineStart:C,lineEnd:D,polygonStart:function(){i=k,m=[],n=[],B=!0},polygonEnd:function(){i=j,m=b.merge(m);var c=q([a,e]),d=B&&c,f=m.length;(d||f)&&(i.polygonStart(),d&&(i.lineStart(),r(null,null,1,i),i.lineEnd()),f&&hd(m,g,c,r,i),i.polygonEnd()),m=n=o=null}};return p}}function xd(a){var b=0,c=Da/3,d=Wd(a),e=d(b,c);return e.parallels=function(a){return arguments.length?d(b=a[0]*Da/180,c=a[1]*Da/180):[b/Da*180,c/Da*180]},e}function yd(a,b){function g(a,b){var c=Math.sqrt(e-2*d*Math.sin(b))/d;return[c*Math.sin(a*=d),f-c*Math.cos(a)]}var c=Math.sin(a),d=(c+Math.sin(b))/2,e=1+c*(2*d-c),f=Math.sqrt(e)/d;return g.invert=function(a,b){var c=f-b;return[Math.atan2(a,c)/d,Ma((e-(a*a+c*c)*d*d)/(2*d))]},g}function Cd(){function e(a,b){Ad+=d*a-c*b,c=a,d=b}var a,b,c,d;Bd.point=function(f,g){Bd.point=e,a=c=f,b=d=g},Bd.lineEnd=function(){e(a,b)}}function Id(a,b){a<Dd&&(Dd=a),a>Fd&&(Fd=a),b<Ed&&(Ed=b),b>Gd&&(Gd=b)}function Jd(){function d(c,d){b.push("M",c,",",d,a)}function e(a,d){b.push("M",a,",",d),c.point=f}function f(a,c){b.push("L",a,",",c)}function g(){c.point=d}function h(){b.push("Z")}var a=Kd(4.5),b=[],c={point:d,lineStart:function(){c.point=e},lineEnd:g,polygonStart:function(){c.lineEnd=h},polygonEnd:function(){c.lineEnd=g,c.point=d},pointRadius:function(b){return a=Kd(b),c},result:function(){if(b.length){var a=b.join("");return b=[],a}}};return c}function Kd(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function Md(a,b){Sc+=a,Tc+=b,++Uc}function Nd(){function c(c,d){var e=c-a,f=d-b,g=Math.sqrt(e*e+f*f);Vc+=g*(a+c)/2,Wc+=g*(b+d)/2,Xc+=g,Md(a=c,b=d)}var a,b;Ld.point=function(d,e){Ld.point=c,Md(a=d,b=e)}}function Od(){Ld.point=Md}function Pd(){function e(a,b){var e=a-c,f=b-d,g=Math.sqrt(e*e+f*f);Vc+=g*(c+a)/2,Wc+=g*(d+b)/2,Xc+=g,g=d*a-c*b,Yc+=g*(c+a),Zc+=g*(d+b),$c+=3*g,Md(c=a,d=b)}var a,b,c,d;Ld.point=function(f,g){Ld.point=e,Md(a=c=f,b=d=g)},Ld.lineEnd=function(){e(a,b)}}function Qd(a){function d(c,d){a.moveTo(c+b,d),a.arc(c,d,b,0,Ea)}function e(b,d){a.moveTo(b,d),c.point=f}function f(b,c){a.lineTo(b,c)}function g(){c.point=d}function h(){a.closePath()}var b=4.5,c={point:d,lineStart:function(){c.point=e},lineEnd:g,polygonStart:function(){c.lineEnd=h},polygonEnd:function(){c.lineEnd=g,c.point=d},pointRadius:function(a){return b=a,c},result:L};return c}function Rd(a){function e(a){return(d?g:f)(a)}function f(b){return Ud(b,function(c,d){c=a(c,d),b.point(c[0],c[1])})}function g(b){function s(c,d){c=a(c,d),b.point(c[0],c[1])}function t(){m=NaN,r.point=u,b.lineStart()}function u(c,e){var f=Ic([c,e]),g=a(c,e);h(m,n,l,o,p,q,m=g[0],n=g[1],l=c,o=f[0],p=f[1],q=f[2],d,b),b.point(m,n)}function v(){r.point=s,b.lineEnd()}function w(){t(),r.point=x,r.lineEnd=y;
}function x(a,b){u(c=a,e=b),f=m,g=n,i=o,j=p,k=q,r.point=u}function y(){h(m,n,l,o,p,q,f,g,c,i,j,k,d,b),r.lineEnd=v,v()}var c,e,f,g,i,j,k,l,m,n,o,p,q,r={point:s,lineStart:t,lineEnd:v,polygonStart:function(){b.polygonStart(),r.lineStart=w},polygonEnd:function(){b.polygonEnd(),r.lineStart=t}};return r}function h(d,e,f,g,i,j,k,l,m,n,o,p,q,r){var t=k-d,u=l-e,v=t*t+u*u;if(v>4*b&&q--){var w=g+n,x=i+o,y=j+p,z=Math.sqrt(w*w+x*x+y*y),A=Math.asin(y/=z),B=s(s(y)-1)<Ba||s(f-m)<Ba?(f+m)/2:Math.atan2(x,w),C=a(B,A),D=C[0],E=C[1],F=D-d,G=E-e,H=u*F-t*G;(H*H/v>b||s((t*F+u*G)/v-.5)>.3||g*n+i*o+j*p<c)&&(h(d,e,f,g,i,j,D,E,B,w/=z,x/=z,y,q,r),r.point(D,E),h(D,E,B,w,x,y,k,l,m,n,o,p,q,r))}}var b=.5,c=Math.cos(30*Ha),d=16;return e.precision=function(a){return arguments.length?(d=(b=a*a)>0&&16,e):Math.sqrt(b)},e}function Sd(a){var b=Rd(function(b,c){return a([b*Ia,c*Ia])});return function(a){return Xd(b(a))}}function Td(a){this.stream=a}function Ud(a,b){return{point:b,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}function Vd(a){return Wd(function(){return a})()}function Wd(a){function v(a){return a=e(a[0]*Ha,a[1]*Ha),[a[0]*g+o,p-a[1]*g]}function w(a){return a=e.invert((a[0]-o)/g,(p-a[1])/g),a&&[a[0]*Ia,a[1]*Ia]}function x(){e=fd(d=$d(l,m,n),c);var a=c(j,k);return o=h-a[0]*g,p=i+a[1]*g,y()}function y(){return u&&(u.valid=!1,u=null),v}var c,d,e,o,p,u,f=Rd(function(a,b){return a=c(a,b),[a[0]*g+o,p-a[1]*g]}),g=150,h=480,i=250,j=0,k=0,l=0,m=0,n=0,q=od,r=H,s=null,t=null;return v.stream=function(a){return u&&(u.valid=!1),u=Xd(q(d,f(r(a)))),u.valid=!0,u},v.clipAngle=function(a){return arguments.length?(q=null==a?(s=a,od):td((s=+a)*Ha),y()):s},v.clipExtent=function(a){return arguments.length?(t=a,r=a?wd(a[0][0],a[0][1],a[1][0],a[1][1]):H,y()):t},v.scale=function(a){return arguments.length?(g=+a,x()):g},v.translate=function(a){return arguments.length?(h=+a[0],i=+a[1],x()):[h,i]},v.center=function(a){return arguments.length?(j=a[0]%360*Ha,k=a[1]%360*Ha,x()):[j*Ia,k*Ia]},v.rotate=function(a){return arguments.length?(l=a[0]%360*Ha,m=a[1]%360*Ha,n=a.length>2?a[2]%360*Ha:0,x()):[l*Ia,m*Ia,n*Ia]},b.rebind(v,f,"precision"),function(){return c=a.apply(this,arguments),v.invert=c.invert&&w,x()}}function Xd(a){return Ud(a,function(b,c){a.point(b*Ha,c*Ha)})}function Yd(a,b){return[a,b]}function Zd(a,b){return[a>Da?a-Ea:a<-Da?a+Ea:a,b]}function $d(a,b,c){return a?b||c?fd(ae(a),be(b,c)):ae(a):b||c?be(b,c):Zd}function _d(a){return function(b,c){return b+=a,[b>Da?b-Ea:b<-Da?b+Ea:b,c]}}function ae(a){var b=_d(a);return b.invert=_d(-a),b}function be(a,b){function g(a,b){var g=Math.cos(b),h=Math.cos(a)*g,i=Math.sin(a)*g,j=Math.sin(b),k=j*c+h*d;return[Math.atan2(i*e-k*f,h*c-j*d),Ma(k*e+i*f)]}var c=Math.cos(a),d=Math.sin(a),e=Math.cos(b),f=Math.sin(b);return g.invert=function(a,b){var g=Math.cos(b),h=Math.cos(a)*g,i=Math.sin(a)*g,j=Math.sin(b),k=j*e-i*f;return[Math.atan2(i*e+j*f,h*c+k*d),Ma(k*c-h*d)]},g}function ce(a,b){var c=Math.cos(a),d=Math.sin(a);return function(e,f,g,h){var i=g*b;null!=e?(e=de(c,e),f=de(c,f),(g>0?e<f:e>f)&&(e+=g*Ea)):(e=a+g*Ea,f=a-.5*i);for(var j,k=e;g>0?k>f:k<f;k-=i)h.point((j=Oc([c,-d*Math.cos(k),-d*Math.sin(k)]))[0],j[1])}}function de(a,b){var c=Ic(b);c[0]-=a,Nc(c);var d=La(-c[1]);return((-c[2]<0?-d:d)+2*Math.PI-Ba)%(2*Math.PI)}function ee(a,c,d){var e=b.range(a,c-Ba,d).concat(c);return function(a){return e.map(function(b){return[a,b]})}}function fe(a,c,d){var e=b.range(a,c-Ba,d).concat(c);return function(a){return e.map(function(b){return[b,a]})}}function ge(a){return a.source}function he(a){return a.target}function ie(a,b,c,d){var e=Math.cos(b),f=Math.sin(b),g=Math.cos(d),h=Math.sin(d),i=e*Math.cos(a),j=e*Math.sin(a),k=g*Math.cos(c),l=g*Math.sin(c),m=2*Math.asin(Math.sqrt(Qa(d-b)+e*g*Qa(c-a))),n=1/Math.sin(m),o=m?function(a){var b=Math.sin(a*=m)*n,c=Math.sin(m-a)*n,d=c*i+b*k,e=c*j+b*l,g=c*f+b*h;return[Math.atan2(e,d)*Ia,Math.atan2(g,Math.sqrt(d*d+e*e))*Ia]}:function(){return[a*Ia,b*Ia]};return o.distance=m,o}function le(){function d(d,e){var f=Math.sin(e*=Ha),g=Math.cos(e),h=s((d*=Ha)-a),i=Math.cos(h);je+=Math.atan2(Math.sqrt((h=g*Math.sin(h))*h+(h=c*f-b*g*i)*h),b*f+c*g*i),a=d,b=f,c=g}var a,b,c;ke.point=function(e,f){a=e*Ha,b=Math.sin(f*=Ha),c=Math.cos(f),ke.point=d},ke.lineEnd=function(){ke.point=ke.lineEnd=L}}function me(a,b){function c(b,c){var d=Math.cos(b),e=Math.cos(c),f=a(d*e);return[f*e*Math.sin(b),f*Math.sin(c)]}return c.invert=function(a,c){var d=Math.sqrt(a*a+c*c),e=b(d),f=Math.sin(e),g=Math.cos(e);return[Math.atan2(a*f,d*g),Math.asin(d&&c*f/d)]},c}function pe(a,b){function g(a,b){f>0?b<-Ga+Ba&&(b=-Ga+Ba):b>Ga-Ba&&(b=Ga-Ba);var c=f/Math.pow(d(b),e);return[c*Math.sin(e*a),f-c*Math.cos(e*a)]}var c=Math.cos(a),d=function(a){return Math.tan(Da/4+a/2)},e=a===b?Math.sin(a):Math.log(c/Math.cos(b))/Math.log(d(b)/d(a)),f=c*Math.pow(d(a),e)/e;return e?(g.invert=function(a,b){var c=f-b,d=Ja(e)*Math.sqrt(a*a+c*c);return[Math.atan2(a,c)/e,2*Math.atan(Math.pow(f/d,1/e))-Ga]},g):se}function qe(a,b){function f(a,b){var c=e-b;return[c*Math.sin(d*a),e-c*Math.cos(d*a)]}var c=Math.cos(a),d=a===b?Math.sin(a):(c-Math.cos(b))/(b-a),e=c/d+a;return s(d)<Ba?Yd:(f.invert=function(a,b){var c=e-b;return[Math.atan2(a,c)/d,e-Ja(d)*Math.sqrt(a*a+c*c)]},f)}function se(a,b){return[a,Math.log(Math.tan(Da/4+b/2))]}function te(a){var f,b=Vd(a),c=b.scale,d=b.translate,e=b.clipExtent;return b.scale=function(){var a=c.apply(b,arguments);return a===b?f?b.clipExtent(null):b:a},b.translate=function(){var a=d.apply(b,arguments);return a===b?f?b.clipExtent(null):b:a},b.clipExtent=function(a){var g=e.apply(b,arguments);if(g===b){if(f=null==a){var h=Da*c(),i=d();e([[i[0]-h,i[1]-h],[i[0]+h,i[1]+h]])}}else f&&(g=null);return g},b.clipExtent(null)}function we(a,b){return[Math.log(Math.tan(Da/4+b/2)),-a]}function xe(a){return a[0]}function ye(a){return a[1]}function ze(a){for(var b=a.length,c=[0,1],d=2,e=2;e<b;e++){for(;d>1&&Ka(a[c[d-2]],a[c[d-1]],a[e])<=0;)--d;c[d++]=e}return c.slice(0,d)}function Ae(a,b){return a[0]-b[0]||a[1]-b[1]}function Ce(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function De(a,b,c,d){var e=a[0],f=c[0],g=b[0]-e,h=d[0]-f,i=a[1],j=c[1],k=b[1]-i,l=d[1]-j,m=(h*(i-j)-l*(e-f))/(l*g-h*k);return[e+m*g,i+m*k]}function Ee(a){var b=a[0],c=a[a.length-1];return!(b[0]-c[0]||b[1]-c[1])}function Me(){ff(this),this.edge=this.site=this.circle=null}function Ne(a){var b=Ie.pop()||new Me;return b.site=a,b}function Oe(a){Ye(a),He.remove(a),Ie.push(a),ff(a)}function Pe(a){var b=a.circle,c=b.x,d=b.cy,e={x:c,y:d},f=a.P,g=a.N,h=[a];Oe(a);for(var i=f;i.circle&&s(c-i.circle.x)<Ba&&s(d-i.circle.cy)<Ba;)f=i.P,h.unshift(i),Oe(i),i=f;h.unshift(i),Ye(i);for(var j=g;j.circle&&s(c-j.circle.x)<Ba&&s(d-j.circle.cy)<Ba;)g=j.N,h.push(j),Oe(j),j=g;h.push(j),Ye(j);var l,k=h.length;for(l=1;l<k;++l)j=h[l],i=h[l-1],cf(j.edge,i.site,j.site,e);i=h[0],j=h[k-1],j.edge=af(i.site,j.site,null,e),Xe(i),Xe(j)}function Qe(a){for(var d,e,f,g,b=a.x,c=a.y,h=He._;h;)if(f=Re(h,c)-b,f>Ba)h=h.L;else{if(g=b-Se(h,c),!(g>Ba)){f>-Ba?(d=h.P,e=h):g>-Ba?(d=h,e=h.N):d=e=h;break}if(!h.R){d=h;break}h=h.R}var i=Ne(a);if(He.insert(d,i),d||e){if(d===e)return Ye(d),e=Ne(d.site),He.insert(i,e),i.edge=e.edge=af(d.site,i.site),Xe(d),void Xe(e);if(!e)return void(i.edge=af(d.site,i.site));Ye(d),Ye(e);var j=d.site,k=j.x,l=j.y,m=a.x-k,n=a.y-l,o=e.site,p=o.x-k,q=o.y-l,r=2*(m*q-n*p),s=m*m+n*n,t=p*p+q*q,u={x:(q*s-n*t)/r+k,y:(m*t-p*s)/r+l};cf(e.edge,j,o,u),i.edge=af(j,a,null,u),e.edge=af(a,o,null,u),Xe(d),Xe(e)}}function Re(a,b){var c=a.site,d=c.x,e=c.y,f=e-b;if(!f)return d;var g=a.P;if(!g)return-(1/0);c=g.site;var h=c.x,i=c.y,j=i-b;if(!j)return h;var k=h-d,l=1/f-1/j,m=k/j;return l?(-m+Math.sqrt(m*m-2*l*(k*k/(-2*j)-i+j/2+e-f/2)))/l+d:(d+h)/2}function Se(a,b){var c=a.N;if(c)return Re(c,b);var d=a.site;return d.y===b?d.x:1/0}function Te(a){this.site=a,this.edges=[]}function Ue(a){for(var f,g,h,i,l,m,n,o,p,q,b=a[0][0],c=a[1][0],d=a[0][1],e=a[1][1],j=Ge,k=j.length;k--;)if(l=j[k],l&&l.prepare())for(n=l.edges,o=n.length,m=0;m<o;)q=n[m].end(),h=q.x,i=q.y,p=n[++m%o].start(),f=p.x,g=p.y,(s(h-f)>Ba||s(i-g)>Ba)&&(n.splice(m,0,new df(bf(l.site,q,s(h-b)<Ba&&e-i>Ba?{x:b,y:s(f-b)<Ba?g:e}:s(i-e)<Ba&&c-h>Ba?{x:s(g-e)<Ba?f:c,y:e}:s(h-c)<Ba&&i-d>Ba?{x:c,y:s(f-c)<Ba?g:d}:s(i-d)<Ba&&h-b>Ba?{x:s(g-d)<Ba?f:b,y:d}:null),l.site,null)),++o)}function Ve(a,b){return b.angle-a.angle}function We(){ff(this),this.x=this.y=this.arc=this.site=this.cy=null}function Xe(a){var b=a.P,c=a.N;if(b&&c){var d=b.site,e=a.site,f=c.site;if(d!==f){var g=e.x,h=e.y,i=d.x-g,j=d.y-h,k=f.x-g,l=f.y-h,m=2*(i*l-j*k);if(!(m>=-Ca)){var n=i*i+j*j,o=k*k+l*l,p=(l*n-j*o)/m,q=(i*o-k*n)/m,l=q+h,r=Le.pop()||new We;r.arc=a,r.site=e,r.x=p+g,r.y=l+Math.sqrt(p*p+q*q),r.cy=l,a.circle=r;for(var s=null,t=Ke._;t;)if(r.y<t.y||r.y===t.y&&r.x<=t.x){if(!t.L){s=t.P;break}t=t.L}else{if(!t.R){s=t;break}t=t.R}Ke.insert(s,r),s||(Je=r)}}}}function Ye(a){var b=a.circle;b&&(b.P||(Je=b.N),Ke.remove(b),Le.push(b),ff(b),a.circle=null)}function Ze(a){for(var e,b=Fe,c=ud(a[0][0],a[0][1],a[1][0],a[1][1]),d=b.length;d--;)e=b[d],(!$e(e,a)||!c(e)||s(e.a.x-e.b.x)<Ba&&s(e.a.y-e.b.y)<Ba)&&(e.a=e.b=null,b.splice(d,1))}function $e(a,b){var c=a.b;if(c)return!0;var q,r,d=a.a,e=b[0][0],f=b[1][0],g=b[0][1],h=b[1][1],i=a.l,j=a.r,k=i.x,l=i.y,m=j.x,n=j.y,o=(k+m)/2,p=(l+n)/2;if(n===l){if(o<e||o>=f)return;if(k>m){if(d){if(d.y>=h)return}else d={x:o,y:g};c={x:o,y:h}}else{if(d){if(d.y<g)return}else d={x:o,y:h};c={x:o,y:g}}}else if(q=(k-m)/(n-l),r=p-q*o,q<-1||q>1)if(k>m){if(d){if(d.y>=h)return}else d={x:(g-r)/q,y:g};c={x:(h-r)/q,y:h}}else{if(d){if(d.y<g)return}else d={x:(h-r)/q,y:h};c={x:(g-r)/q,y:g}}else if(l<n){if(d){if(d.x>=f)return}else d={x:e,y:q*e+r};c={x:f,y:q*f+r}}else{if(d){if(d.x<e)return}else d={x:f,y:q*f+r};c={x:e,y:q*e+r}}return a.a=d,a.b=c,!0}function _e(a,b){this.l=a,this.r=b,this.a=this.b=null}function af(a,b,c,d){var e=new _e(a,b);return Fe.push(e),c&&cf(e,a,b,c),d&&cf(e,b,a,d),Ge[a.i].edges.push(new df(e,a,b)),Ge[b.i].edges.push(new df(e,b,a)),e}function bf(a,b,c){var d=new _e(a,null);return d.a=b,d.b=c,Fe.push(d),d}function cf(a,b,c,d){a.a||a.b?a.l===c?a.b=d:a.a=d:(a.a=d,a.l=b,a.r=c)}function df(a,b,c){var d=a.a,e=a.b;this.edge=a,this.site=b,this.angle=c?Math.atan2(c.y-b.y,c.x-b.x):a.l===b?Math.atan2(e.x-d.x,d.y-e.y):Math.atan2(d.x-e.x,e.y-d.y)}function ef(){this._=null}function ff(a){a.U=a.C=a.L=a.R=a.P=a.N=null}function gf(a,b){var c=b,d=b.R,e=c.U;e?e.L===c?e.L=d:e.R=d:a._=d,d.U=e,c.U=d,c.R=d.L,c.R&&(c.R.U=c),d.L=c}function hf(a,b){var c=b,d=b.L,e=c.U;e?e.L===c?e.L=d:e.R=d:a._=d,d.U=e,c.U=d,c.L=d.R,c.L&&(c.L.U=c),d.R=c}function jf(a){for(;a.L;)a=a.L;return a}function kf(a,b){var d,e,f,c=a.sort(lf).pop();for(Fe=[],Ge=new Array(a.length),He=new ef,Ke=new ef;;)if(f=Je,c&&(!f||c.y<f.y||c.y===f.y&&c.x<f.x))c.x===d&&c.y===e||(Ge[c.i]=new Te(c),Qe(c),d=c.x,e=c.y),c=a.pop();else{if(!f)break;Pe(f.arc)}b&&(Ze(b),Ue(b));var g={cells:Ge,edges:Fe};return He=Ke=Fe=Ge=null,g}function lf(a,b){return b.y-a.y||b.x-a.x}function nf(a,b,c){return(a.x-c.x)*(b.y-a.y)-(a.x-b.x)*(c.y-a.y)}function of(a){return a.x}function pf(a){return a.y}function qf(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function rf(a,b,c,d,e,f){if(!a(b,c,d,e,f)){var g=.5*(c+e),h=.5*(d+f),i=b.nodes;i[0]&&rf(a,i[0],c,d,g,h),i[1]&&rf(a,i[1],g,d,e,h),i[2]&&rf(a,i[2],c,h,g,f),i[3]&&rf(a,i[3],g,h,e,f)}}function sf(a,b,c,d,e,f,g){var i,h=1/0;return function a(j,k,l,m,n){if(!(k>f||l>g||m<d||n<e)){if(o=j.point){var o,p=b-j.x,q=c-j.y,r=p*p+q*q;if(r<h){var s=Math.sqrt(h=r);d=b-s,e=c-s,f=b+s,g=c+s,i=o}}for(var t=j.nodes,u=.5*(k+m),v=.5*(l+n),w=b>=u,x=c>=v,y=x<<1|w,z=y+4;y<z;++y)if(j=t[3&y])switch(3&y){case 0:a(j,k,l,u,v);break;case 1:a(j,u,l,m,v);break;case 2:a(j,k,v,u,n);break;case 3:a(j,u,v,m,n)}}}(a,d,e,f,g),i}function tf(a,c){a=b.rgb(a),c=b.rgb(c);var d=a.r,e=a.g,f=a.b,g=c.r-d,h=c.g-e,i=c.b-f;return function(a){return"#"+rb(Math.round(d+g*a))+rb(Math.round(e+h*a))+rb(Math.round(f+i*a))}}function uf(a,b){var e,c={},d={};for(e in a)e in b?c[e]=zf(a[e],b[e]):d[e]=a[e];for(e in b)e in a||(d[e]=b[e]);return function(a){for(e in c)d[e]=c[e](a);return d}}function vf(a,b){return a=+a,b=+b,function(c){return a*(1-c)+b*c}}function wf(a,b){var d,e,f,c=xf.lastIndex=yf.lastIndex=0,g=-1,h=[],i=[];for(a+="",b+="";(d=xf.exec(a))&&(e=yf.exec(b));)(f=e.index)>c&&(f=b.slice(c,f),h[g]?h[g]+=f:h[++g]=f),(d=d[0])===(e=e[0])?h[g]?h[g]+=e:h[++g]=e:(h[++g]=null,i.push({i:g,x:vf(d,e)})),c=yf.lastIndex;return c<b.length&&(f=b.slice(c),h[g]?h[g]+=f:h[++g]=f),h.length<2?i[0]?(b=i[0].x,function(a){return b(a)+""}):function(){return b}:(b=i.length,function(a){for(var d,c=0;c<b;++c)h[(d=i[c]).i]=d.x(a);return h.join("")})}function zf(a,c){for(var e,d=b.interpolators.length;--d>=0&&!(e=b.interpolators[d](a,c)););return e}function Af(a,b){var h,c=[],d=[],e=a.length,f=b.length,g=Math.min(a.length,b.length);for(h=0;h<g;++h)c.push(zf(a[h],b[h]));for(;h<e;++h)d[h]=a[h];for(;h<f;++h)d[h]=b[h];return function(a){for(h=0;h<g;++h)d[h]=c[h](a);return d}}function Ef(a){return function(b){return b<=0?0:b>=1?1:a(b)}}function Ff(a){return function(b){return 1-a(1-b)}}function Gf(a){return function(b){return.5*(b<.5?a(2*b):2-a(2-2*b))}}function Hf(a){return a*a}function If(a){return a*a*a}function Jf(a){if(a<=0)return 0;if(a>=1)return 1;var b=a*a,c=b*a;return 4*(a<.5?c:3*(a-b)+c-.75)}function Kf(a){return function(b){return Math.pow(b,a)}}function Lf(a){return 1-Math.cos(a*Ga)}function Mf(a){return Math.pow(2,10*(a-1))}function Nf(a){return 1-Math.sqrt(1-a*a)}function Of(a,b){var c;return arguments.length<2&&(b=.45),arguments.length?c=b/Ea*Math.asin(1/a):(a=1,c=b/4),function(d){return 1+a*Math.pow(2,-10*d)*Math.sin((d-c)*Ea/b)}}function Pf(a){return a||(a=1.70158),function(b){return b*b*((a+1)*b-a)}}function Qf(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}function Rf(a,c){a=b.hcl(a),c=b.hcl(c);var d=a.h,e=a.c,f=a.l,g=c.h-d,h=c.c-e,i=c.l-f;return isNaN(h)&&(h=0,e=isNaN(e)?c.c:e),isNaN(g)?(g=0,d=isNaN(d)?c.h:d):g>180?g-=360:g<-180&&(g+=360),function(a){return bb(d+g*a,e+h*a,f+i*a)+""}}function Sf(a,c){a=b.hsl(a),c=b.hsl(c);var d=a.h,e=a.s,f=a.l,g=c.h-d,h=c.s-e,i=c.l-f;return isNaN(h)&&(h=0,e=isNaN(e)?c.s:e),isNaN(g)?(g=0,d=isNaN(d)?c.h:d):g>180?g-=360:g<-180&&(g+=360),function(a){return $a(d+g*a,e+h*a,f+i*a)+""}}function Tf(a,c){a=b.lab(a),c=b.lab(c);var d=a.l,e=a.a,f=a.b,g=c.l-d,h=c.a-e,i=c.b-f;return function(a){return ib(d+g*a,e+h*a,f+i*a)+""}}function Uf(a,b){return b-=a,function(c){return Math.round(a+b*c)}}function Vf(a){var b=[a.a,a.b],c=[a.c,a.d],d=Xf(b),e=Wf(b,c),f=Xf(Yf(c,b,-e))||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,d*=-1,e*=-1),this.rotate=(d?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*Ia,this.translate=[a.e,a.f],this.scale=[d,f],this.skew=f?Math.atan2(e,f)*Ia:0}function Wf(a,b){return a[0]*b[0]+a[1]*b[1]}function Xf(a){var b=Math.sqrt(Wf(a,a));return b&&(a[0]/=b,a[1]/=b),b}function Yf(a,b,c){return a[0]+=c*b[0],a[1]+=c*b[1],a}function $f(a){return a.length?a.pop()+",":""}function _f(a,b,c,d){if(a[0]!==b[0]||a[1]!==b[1]){var e=c.push("translate(",null,",",null,")");d.push({i:e-4,x:vf(a[0],b[0])},{i:e-2,x:vf(a[1],b[1])})}else(b[0]||b[1])&&c.push("translate("+b+")")}function ag(a,b,c,d){a!==b?(a-b>180?b+=360:b-a>180&&(a+=360),d.push({i:c.push($f(c)+"rotate(",null,")")-2,x:vf(a,b)})):b&&c.push($f(c)+"rotate("+b+")")}function bg(a,b,c,d){a!==b?d.push({i:c.push($f(c)+"skewX(",null,")")-2,x:vf(a,b)}):b&&c.push($f(c)+"skewX("+b+")")}function cg(a,b,c,d){if(a[0]!==b[0]||a[1]!==b[1]){var e=c.push($f(c)+"scale(",null,",",null,")");d.push({i:e-4,x:vf(a[0],b[0])},{i:e-2,x:vf(a[1],b[1])})}else 1===b[0]&&1===b[1]||c.push($f(c)+"scale("+b+")")}function dg(a,c){var d=[],e=[];return a=b.transform(a),c=b.transform(c),_f(a.translate,c.translate,d,e),ag(a.rotate,c.rotate,d,e),bg(a.skew,c.skew,d,e),cg(a.scale,c.scale,d,e),a=c=null,function(a){for(var f,b=-1,c=e.length;++b<c;)d[(f=e[b]).i]=f.x(a);return d.join("")}}function eg(a,b){return b=(b-=a=+a)||1/b,function(c){return(c-a)/b}}function fg(a,b){return b=(b-=a=+a)||1/b,function(c){return Math.max(0,Math.min(1,(c-a)/b))}}function gg(a){for(var b=a.source,c=a.target,d=ig(b,c),e=[b];b!==d;)b=b.parent,e.push(b);for(var f=e.length;c!==d;)e.splice(f,0,c),c=c.parent;return e}function hg(a){for(var b=[],c=a.parent;null!=c;)b.push(a),a=c,c=c.parent;return b.push(a),b}function ig(a,b){if(a===b)return a;for(var c=hg(a),d=hg(b),e=c.pop(),f=d.pop(),g=null;e===f;)g=e,e=c.pop(),f=d.pop();return g}function jg(a){a.fixed|=2}function kg(a){a.fixed&=-7}function lg(a){a.fixed|=4,a.px=a.x,a.py=a.y}function mg(a){a.fixed&=-5}function ng(a,b,c){var d=0,e=0;if(a.charge=0,!a.leaf)for(var i,f=a.nodes,g=f.length,h=-1;++h<g;)i=f[h],null!=i&&(ng(i,b,c),a.charge+=i.charge,d+=i.charge*i.cx,e+=i.charge*i.cy);if(a.point){a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5);var j=b*c[a.point.index];a.charge+=a.pointCharge=j,d+=j*a.point.x,e+=j*a.point.y}a.cx=d/a.charge,a.cy=e/a.charge}function rg(a,c){return b.rebind(a,c,"sort","children","value"),a.nodes=a,a.links=xg,a}function sg(a,b){for(var c=[a];null!=(a=c.pop());)if(b(a),(e=a.children)&&(d=e.length))for(var d,e;--d>=0;)c.push(e[d])}function tg(a,b){for(var c=[a],d=[];null!=(a=c.pop());)if(d.push(a),(g=a.children)&&(f=g.length))for(var f,g,e=-1;++e<f;)c.push(g[e]);for(;null!=(a=d.pop());)b(a)}function ug(a){return a.children}function vg(a){return a.value}function wg(a,b){return b.value-a.value}function xg(a){return b.merge(a.map(function(a){return(a.children||[]).map(function(b){return{source:a,target:b}})}))}function zg(a){return a.x}function Ag(a){return a.y}function Bg(a,b,c){a.y0=b,a.y=c}function Eg(a){return b.range(a.length)}function Fg(a){for(var b=-1,c=a[0].length,d=[];++b<c;)d[b]=0;return d}function Gg(a){for(var e,b=1,c=0,d=a[0][1],f=a.length;b<f;++b)(e=a[b][1])>d&&(c=b,d=e);return c}function Hg(a){return a.reduce(Ig,0)}function Ig(a,b){return a+b[1]}function Jg(a,b){return Kg(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function Kg(a,b){for(var c=-1,d=+a[0],e=(a[1]-d)/b,f=[];++c<=b;)f[c]=e*c+d;return f}function Lg(a){return[b.min(a),b.max(a)]}function Mg(a,b){return a.value-b.value}function Ng(a,b){var c=a._pack_next;a._pack_next=b,b._pack_prev=a,b._pack_next=c,c._pack_prev=b}function Og(a,b){a._pack_next=b,b._pack_prev=a}function Pg(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r+b.r;return.999*e*e>c*c+d*d}function Qg(a){function n(a){c=Math.min(a.x-a.r,c),d=Math.max(a.x+a.r,d),e=Math.min(a.y-a.r,e),f=Math.max(a.y+a.r,f)}if((b=a.children)&&(m=b.length)){var b,g,h,i,j,k,l,m,c=1/0,d=-(1/0),e=1/0,f=-(1/0);if(b.forEach(Rg),g=b[0],g.x=-g.r,g.y=0,n(g),m>1&&(h=b[1],h.x=h.r,h.y=0,n(h),m>2))for(i=b[2],Ug(g,h,i),n(i),Ng(g,i),g._pack_prev=i,Ng(i,h),h=g._pack_next,j=3;j<m;j++){Ug(g,h,i=b[j]);var o=0,p=1,q=1;for(k=h._pack_next;k!==h;k=k._pack_next,p++)if(Pg(k,i)){o=1;break}if(1==o)for(l=g._pack_prev;l!==k._pack_prev&&!Pg(l,i);l=l._pack_prev,q++);o?(p<q||p==q&&h.r<g.r?Og(g,h=k):Og(g=l,h),j--):(Ng(g,i),h=i,n(i))}var r=(c+d)/2,s=(e+f)/2,t=0;for(j=0;j<m;j++)i=b[j],i.x-=r,i.y-=s,t=Math.max(t,i.r+Math.sqrt(i.x*i.x+i.y*i.y));a.r=t,b.forEach(Sg)}}function Rg(a){a._pack_next=a._pack_prev=a}function Sg(a){delete a._pack_next,delete a._pack_prev}function Tg(a,b,c,d){var e=a.children;if(a.x=b+=d*a.x,a.y=c+=d*a.y,a.r*=d,e)for(var f=-1,g=e.length;++f<g;)Tg(e[f],b,c,d)}function Ug(a,b,c){var d=a.r+c.r,e=b.x-a.x,f=b.y-a.y;if(d&&(e||f)){var g=b.r+c.r,h=e*e+f*f;g*=g,d*=d;var i=.5+(d-g)/(2*h),j=Math.sqrt(Math.max(0,2*g*(d+h)-(d-=h)*d-g*g))/(2*h);c.x=a.x+i*e+j*f,c.y=a.y+i*f-j*e}else c.x=a.x+d,c.y=a.y}function Vg(a,b){return a.parent==b.parent?1:2}function Wg(a){var b=a.children;return b.length?b[0]:a.t}function Xg(a){var c,b=a.children;return(c=b.length)?b[c-1]:a.t}function Yg(a,b,c){var d=c/(b.i-a.i);b.c-=d,b.s+=c,a.c+=d,b.z+=c,b.m+=c}function Zg(a){for(var f,b=0,c=0,d=a.children,e=d.length;--e>=0;)f=d[e],f.z+=b,f.m+=b,b+=f.s+(c+=f.c)}function $g(a,b,c){return a.a.parent===b.parent?a.a:c}function _g(a){return 1+b.max(a,function(a){return a.y})}function ah(a){return a.reduce(function(a,b){return a+b.x},0)/a.length}function bh(a){var b=a.children;return b&&b.length?bh(b[0]):a}function ch(a){var c,b=a.children;return b&&(c=b.length)?ch(b[c-1]):a}function dh(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function eh(a,b){var c=a.x+b[3],d=a.y+b[0],e=a.dx-b[1]-b[3],f=a.dy-b[0]-b[2];return e<0&&(c+=e/2,e=0),f<0&&(d+=f/2,f=0),{x:c,y:d,dx:e,dy:f}}function fh(a){var b=a[0],c=a[a.length-1];return b<c?[b,c]:[c,b]}function gh(a){return a.rangeExtent?a.rangeExtent():fh(a.range())}function hh(a,b,c,d){var e=c(a[0],a[1]),f=d(b[0],b[1]);return function(a){return f(e(a))}}function ih(a,b){var g,c=0,d=a.length-1,e=a[c],f=a[d];return f<e&&(g=c,c=d,d=g,g=e,e=f,f=g),a[c]=b.floor(e),a[d]=b.ceil(f),a}function jh(a){return a?{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}:kh}function lh(a,c,d,e){var f=[],g=[],h=0,i=Math.min(a.length,c.length)-1;for(a[i]<a[0]&&(a=a.slice().reverse(),c=c.slice().reverse());++h<=i;)f.push(d(a[h-1],a[h])),g.push(e(c[h-1],c[h]));return function(c){var d=b.bisect(a,c,1,i)-1;return g[d](f[d](c))}}function mh(a,b,c,d){function g(){var g=Math.min(a.length,b.length)>2?lh:hh,i=d?fg:eg;return e=g(a,b,i,c),f=g(b,a,i,zf),h}function h(a){return e(a)}var e,f;return h.invert=function(a){return f(a)},h.domain=function(b){return arguments.length?(a=b.map(Number),g()):a},h.range=function(a){return arguments.length?(b=a,g()):b},h.rangeRound=function(a){return h.range(a).interpolate(Uf)},h.clamp=function(a){return arguments.length?(d=a,g()):d},h.interpolate=function(a){return arguments.length?(c=a,g()):c},h.ticks=function(b){return qh(a,b)},h.tickFormat=function(b,c){return rh(a,b,c)},h.nice=function(b){return oh(a,b),g()},h.copy=function(){return mh(a,b,c,d)},g()}function nh(a,c){return b.rebind(a,c,"range","rangeRound","interpolate","clamp")}function oh(a,b){return ih(a,jh(ph(a,b)[2])),ih(a,jh(ph(a,b)[2])),a}function ph(a,b){null==b&&(b=10);var c=fh(a),d=c[1]-c[0],e=Math.pow(10,Math.floor(Math.log(d/b)/Math.LN10)),f=b/d*e;return f<=.15?e*=10:f<=.35?e*=5:f<=.75&&(e*=2),c[0]=Math.ceil(c[0]/e)*e,c[1]=Math.floor(c[1]/e)*e+.5*e,c[2]=e,c}function qh(a,c){return b.range.apply(b,ph(a,c))}function rh(a,c,d){var e=ph(a,c);if(d){var f=Qb.exec(d);if(f.shift(),"s"===f[8]){var g=b.formatPrefix(Math.max(s(e[0]),s(e[1])));return f[7]||(f[7]="."+th(g.scale(e[2]))),f[8]="f",d=b.format(f.join("")),function(a){return d(g.scale(a))+g.symbol}}f[7]||(f[7]="."+uh(f[8],e)),d=f.join("")}else d=",."+th(e[2])+"f";return b.format(d)}function th(a){return-Math.floor(Math.log(a)/Math.LN10+.01)}function uh(a,b){var c=th(b[2]);return a in sh?Math.abs(c-th(Math.max(s(b[0]),s(b[1]))))+ +("e"!==a):c-2*("%"===a)}function vh(a,c,d,e){function f(a){return(d?Math.log(a<0?0:a):-Math.log(a>0?0:-a))/Math.log(c)}function g(a){return d?Math.pow(c,a):-Math.pow(c,-a)}function h(b){return a(f(b))}return h.invert=function(b){return g(a.invert(b))},h.domain=function(b){return arguments.length?(d=b[0]>=0,a.domain((e=b.map(Number)).map(f)),h):e},h.base=function(b){return arguments.length?(c=+b,a.domain(e.map(f)),h):c},h.nice=function(){var b=ih(e.map(f),d?Math:xh);return a.domain(b),e=b.map(g),h},h.ticks=function(){var a=fh(e),b=[],h=a[0],i=a[1],j=Math.floor(f(h)),k=Math.ceil(f(i)),l=c%1?2:c;if(isFinite(k-j)){if(d){for(;j<k;j++)for(var m=1;m<l;m++)b.push(g(j)*m);b.push(g(j))}else for(b.push(g(j));j++<k;)for(var m=l-1;m>0;m--)b.push(g(j)*m);for(j=0;b[j]<h;j++);for(k=b.length;b[k-1]>i;k--);b=b.slice(j,k)}return b},h.tickFormat=function(a,d){if(!arguments.length)return wh;arguments.length<2?d=wh:"function"!=typeof d&&(d=b.format(d));var e=Math.max(1,c*a/h.ticks().length);return function(a){var b=a/g(Math.round(f(a)));return b*c<c-.5&&(b*=c),b<=e?d(a):""}},h.copy=function(){return vh(a.copy(),c,d,e)},nh(h,a)}function yh(a,b,c){function f(b){return a(d(b))}var d=zh(b),e=zh(1/b);return f.invert=function(b){return e(a.invert(b))},f.domain=function(b){return arguments.length?(a.domain((c=b.map(Number)).map(d)),f):c},f.ticks=function(a){return qh(c,a)},f.tickFormat=function(a,b){return rh(c,a,b)},f.nice=function(a){return f.domain(oh(c,a))},f.exponent=function(g){return arguments.length?(d=zh(b=g),e=zh(1/b),a.domain(c.map(d)),f):b},f.copy=function(){return yh(a.copy(),b,c)},nh(f,a)}function zh(a){return function(b){return b<0?-Math.pow(-b,a):Math.pow(b,a)}}function Ah(a,c){function g(b){return e[((d.get(b)||("range"===c.t?d.set(b,a.push(b)):NaN))-1)%e.length]}function h(c,d){return b.range(a.length).map(function(a){return c+d*a})}var d,e,f;return g.domain=function(b){if(!arguments.length)return a;a=[],d=new w;for(var h,e=-1,f=b.length;++e<f;)d.has(h=b[e])||d.set(h,a.push(h));return g[c.t].apply(g,c.a)},g.range=function(a){return arguments.length?(e=a,f=0,c={t:"range",a:arguments},g):e},g.rangePoints=function(b,d){arguments.length<2&&(d=0);var i=b[0],j=b[1],k=a.length<2?(i=(i+j)/2,0):(j-i)/(a.length-1+d);return e=h(i+k*d/2,k),f=0,c={t:"rangePoints",a:arguments},g},g.rangeRoundPoints=function(b,d){arguments.length<2&&(d=0);var i=b[0],j=b[1],k=a.length<2?(i=j=Math.round((i+j)/2),0):(j-i)/(a.length-1+d)|0;return e=h(i+Math.round(k*d/2+(j-i-(a.length-1+d)*k)/2),k),f=0,c={t:"rangeRoundPoints",a:arguments},g},g.rangeBands=function(b,d,i){arguments.length<2&&(d=0),arguments.length<3&&(i=d);var j=b[1]<b[0],k=b[j-0],l=b[1-j],m=(l-k)/(a.length-d+2*i);return e=h(k+m*i,m),j&&e.reverse(),f=m*(1-d),c={t:"rangeBands",a:arguments},g},g.rangeRoundBands=function(b,d,i){arguments.length<2&&(d=0),arguments.length<3&&(i=d);var j=b[1]<b[0],k=b[j-0],l=b[1-j],m=Math.floor((l-k)/(a.length-d+2*i));return e=h(k+Math.round((l-k-(a.length-d)*m)/2),m),j&&e.reverse(),f=Math.round(m*(1-d)),c={t:"rangeRoundBands",a:arguments},g},g.rangeBand=function(){return f},g.rangeExtent=function(){return fh(c.a[0])},g.copy=function(){return Ah(a,c)},g.domain(a)}function Fh(a,c){function e(){var e=0,g=c.length;for(d=[];++e<g;)d[e-1]=b.quantile(a,e/g);return f}function f(a){if(!isNaN(a=+a))return c[b.bisect(d,a)]}var d;return f.domain=function(b){return arguments.length?(a=b.map(n).filter(o).sort(m),e()):a},f.range=function(a){return arguments.length?(c=a,e()):c},f.quantiles=function(){return d},f.invertExtent=function(b){return b=c.indexOf(b),b<0?[NaN,NaN]:[b>0?d[b-1]:a[0],b<d.length?d[b]:a[a.length-1]]},f.copy=function(){return Fh(a,c)},e()}function Gh(a,b,c){function f(b){return c[Math.max(0,Math.min(e,Math.floor(d*(b-a))))]}function g(){return d=c.length/(b-a),e=c.length-1,f}var d,e;return f.domain=function(c){return arguments.length?(a=+c[0],b=+c[c.length-1],g()):[a,b]},f.range=function(a){return arguments.length?(c=a,g()):c},f.invertExtent=function(b){return b=c.indexOf(b),b=b<0?NaN:b/d+a,[b,b+1/d]},f.copy=function(){return Gh(a,b,c)},g()}function Hh(a,c){function d(d){if(d<=d)return c[b.bisect(a,d)]}return d.domain=function(b){return arguments.length?(a=b,d):a},d.range=function(a){return arguments.length?(c=a,d):c},d.invertExtent=function(b){return b=c.indexOf(b),[a[b-1],a[b]]},d.copy=function(){return Hh(a,c)},d}function Ih(a){function b(a){return+a}return b.invert=b,b.domain=b.range=function(c){return arguments.length?(a=c.map(b),b):a},b.ticks=function(b){return qh(a,b)},b.tickFormat=function(b,c){return rh(a,b,c)},b.copy=function(){return Ih(a)},b}function Jh(){return 0}function Lh(a){return a.innerRadius}function Mh(a){return a.outerRadius}function Nh(a){return a.startAngle}function Oh(a){return a.endAngle}function Ph(a){return a&&a.padAngle}function Qh(a,b,c,d){return(a-c)*b-(b-d)*a>0?0:1}function Rh(a,b,c,d,e){var f=a[0]-b[0],g=a[1]-b[1],h=(e?d:-d)/Math.sqrt(f*f+g*g),i=h*g,j=-h*f,k=a[0]+i,l=a[1]+j,m=b[0]+i,n=b[1]+j,o=(k+m)/2,p=(l+n)/2,q=m-k,r=n-l,s=q*q+r*r,t=c-d,u=k*n-m*l,v=(r<0?-1:1)*Math.sqrt(Math.max(0,t*t*s-u*u)),w=(u*r-q*v)/s,x=(-u*q-r*v)/s,y=(u*r+q*v)/s,z=(-u*q+r*v)/s,A=w-o,B=x-p,C=y-o,D=z-p;return A*A+B*B>C*C+D*D&&(w=y,x=z),[[w-i,x-j],[w*c/t,x*c/t]]}function Sh(a){function h(f){function o(){h.push("M",e(a(i),g))}for(var l,h=[],i=[],j=-1,k=f.length,m=yb(b),n=yb(c);++j<k;)d.call(this,l=f[j],j)?i.push([+m.call(this,l,j),+n.call(this,l,j)]):i.length&&(o(),i=[]);return i.length&&o(),h.length?h.join(""):null}var b=xe,c=ye,d=gd,e=Uh,f=e.key,g=.7;return h.x=function(a){return arguments.length?(b=a,h):b},h.y=function(a){return arguments.length?(c=a,h):c},h.defined=function(a){return arguments.length?(d=a,h):d},h.interpolate=function(a){return arguments.length?(f="function"==typeof a?e=a:(e=Th.get(a)||Uh).key,h):f},h.tension=function(a){return arguments.length?(g=a,h):g},h}function Uh(a){return a.length>1?a.join("L"):a+"Z"}function Vh(a){return a.join("L")+"Z"}function Wh(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d[0]+(d=a[b])[0])/2,"V",d[1]);return c>1&&e.push("H",d[0]),e.join("")}function Xh(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("V",(d=a[b])[1],"H",d[0]);return e.join("")}function Yh(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d=a[b])[0],"V",d[1]);return e.join("")}function Zh(a,b){return a.length<4?Uh(a):a[1]+ai(a.slice(1,-1),bi(a,b))}function $h(a,b){return a.length<3?Vh(a):a[0]+ai((a.push(a[0]),a),bi([a[a.length-2]].concat(a,[a[1]]),b))}function _h(a,b){return a.length<3?Uh(a):a[0]+ai(a,bi(a,b))}function ai(a,b){if(b.length<1||a.length!=b.length&&a.length!=b.length+2)return Uh(a);var c=a.length!=b.length,d="",e=a[0],f=a[1],g=b[0],h=g,i=1;if(c&&(d+="Q"+(f[0]-2*g[0]/3)+","+(f[1]-2*g[1]/3)+","+f[0]+","+f[1],e=a[1],i=2),b.length>1){h=b[1],f=a[i],i++,d+="C"+(e[0]+g[0])+","+(e[1]+g[1])+","+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1];for(var j=2;j<b.length;j++,i++)f=a[i],h=b[j],d+="S"+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1]}if(c){var k=a[i];d+="Q"+(f[0]+2*h[0]/3)+","+(f[1]+2*h[1]/3)+","+k[0]+","+k[1]}return d}function bi(a,b){for(var e,c=[],d=(1-b)/2,f=a[0],g=a[1],h=1,i=a.length;++h<i;)e=f,f=g,g=a[h],c.push([d*(g[0]-e[0]),d*(g[1]-e[1])]);return c}function ci(a){if(a.length<3)return Uh(a);var b=1,c=a.length,d=a[0],e=d[0],f=d[1],g=[e,e,e,(d=a[1])[0]],h=[f,f,f,d[1]],i=[e,",",f,"L",hi(ki,g),",",hi(ki,h)];for(a.push(a[c-1]);++b<=c;)d=a[b],g.shift(),g.push(d[0]),h.shift(),h.push(d[1]),li(i,g,h);return a.pop(),i.push("L",d),i.join("")}function ei(a){if(a.length<4)return Uh(a);for(var e,b=[],c=-1,d=a.length,f=[0],g=[0];++c<3;)e=a[c],f.push(e[0]),g.push(e[1]);for(b.push(hi(ki,f)+","+hi(ki,g)),--c;++c<d;)e=a[c],f.shift(),f.push(e[0]),g.shift(),g.push(e[1]),li(b,f,g);return b.join("")}function fi(a){for(var b,f,c=-1,d=a.length,e=d+4,g=[],h=[];++c<4;)f=a[c%d],g.push(f[0]),h.push(f[1]);for(b=[hi(ki,g),",",hi(ki,h)],--c;++c<e;)f=a[c%d],g.shift(),g.push(f[0]),h.shift(),h.push(f[1]),li(b,g,h);return b.join("")}function gi(a,b){var c=a.length-1;if(c)for(var i,j,d=a[0][0],e=a[0][1],f=a[c][0]-d,g=a[c][1]-e,h=-1;++h<=c;)i=a[h],j=h/c,i[0]=b*i[0]+(1-b)*(d+j*f),i[1]=b*i[1]+(1-b)*(e+j*g);return ci(a)}function hi(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function li(a,b,c){a.push("C",hi(ii,b),",",hi(ii,c),",",hi(ji,b),",",hi(ji,c),",",hi(ki,b),",",hi(ki,c))}function mi(a,b){return(b[1]-a[1])/(b[0]-a[0])}function ni(a){for(var b=0,c=a.length-1,d=[],e=a[0],f=a[1],g=d[0]=mi(e,f);++b<c;)d[b]=(g+(g=mi(e=f,f=a[b+1])))/2;return d[b]=g,d}function oi(a){for(var c,d,e,f,b=[],g=ni(a),h=-1,i=a.length-1;++h<i;)c=mi(a[h],a[h+1]),s(c)<Ba?g[h]=g[h+1]=0:(d=g[h]/c,e=g[h+1]/c,f=d*d+e*e,f>9&&(f=3*c/Math.sqrt(f),g[h]=f*d,g[h+1]=f*e));for(h=-1;++h<=i;)f=(a[Math.min(i,h+1)][0]-a[Math.max(0,h-1)][0])/(6*(1+g[h]*g[h])),b.push([f||0,g[h]*f||0]);return b}function pi(a){return a.length<3?Uh(a):a[0]+ai(a,oi(a))}function qi(a){for(var b,e,f,c=-1,d=a.length;++c<d;)b=a[c],e=b[0],f=b[1]-Ga,b[0]=e*Math.cos(f),b[1]=e*Math.sin(f);return a}function ri(a){function l(h){function x(){l.push("M",g(a(n),k),j,i(a(m.reverse()),k),"Z")}for(var q,v,w,l=[],m=[],n=[],o=-1,p=h.length,r=yb(b),s=yb(d),t=b===c?function(){return v}:yb(c),u=d===e?function(){return w;
}:yb(e);++o<p;)f.call(this,q=h[o],o)?(m.push([v=+r.call(this,q,o),w=+s.call(this,q,o)]),n.push([+t.call(this,q,o),+u.call(this,q,o)])):m.length&&(x(),m=[],n=[]);return m.length&&x(),l.length?l.join(""):null}var b=xe,c=xe,d=0,e=ye,f=gd,g=Uh,h=g.key,i=g,j="L",k=.7;return l.x=function(a){return arguments.length?(b=c=a,l):c},l.x0=function(a){return arguments.length?(b=a,l):b},l.x1=function(a){return arguments.length?(c=a,l):c},l.y=function(a){return arguments.length?(d=e=a,l):e},l.y0=function(a){return arguments.length?(d=a,l):d},l.y1=function(a){return arguments.length?(e=a,l):e},l.defined=function(a){return arguments.length?(f=a,l):f},l.interpolate=function(a){return arguments.length?(h="function"==typeof a?g=a:(g=Th.get(a)||Uh).key,i=g.reverse||g,j=g.closed?"M":"L",l):h},l.tension=function(a){return arguments.length?(k=a,l):k},l}function si(a){return a.radius}function ti(a){return[a.x,a.y]}function ui(a){return function(){var b=a.apply(this,arguments),c=b[0],d=b[1]-Ga;return[c*Math.cos(d),c*Math.sin(d)]}}function vi(){return 64}function wi(){return"circle"}function yi(a){var b=Math.sqrt(a/Da);return"M0,"+b+"A"+b+","+b+" 0 1,1 0,"+-b+"A"+b+","+b+" 0 1,1 0,"+b+"Z"}function Di(a){return function(){var b,c,d;(b=this[a])&&(d=b[c=b.active])&&(d.timer.c=null,d.timer.t=NaN,--b.count?delete b[c]:delete this[a],b.active+=.5,d.event&&d.event.interrupt.call(this,this.__data__,d.index))}}function Ei(a,b,c){return S(a,Fi),a.namespace=b,a.id=c,a}function Ji(a,b,c,d){var e=a.id,f=a.namespace;return na(a,"function"==typeof c?function(a,g,h){a[f][e].tween.set(b,d(c.call(a,a.__data__,g,h)))}:(c=d(c),function(a){a[f][e].tween.set(b,c)}))}function Ki(a){return null==a&&(a=""),function(){this.textContent=a}}function Li(a){return null==a?"__transition__":"__transition_"+a+"__"}function Mi(a,b,c,d,e){function m(a){var b=g.delay;return i.t=b+h,b<=a?n(a-b):void(i.c=n)}function n(c){var e=f.active,m=f[e];m&&(m.timer.c=null,m.timer.t=NaN,--f.count,delete f[e],m.event&&m.event.interrupt.call(a,a.__data__,m.index));for(var n in f)if(+n<d){var p=f[n];p.timer.c=null,p.timer.t=NaN,--f.count,delete f[n]}i.c=o,Ib(function(){return i.c&&o(c||1)&&(i.c=null,i.t=NaN),1},0,h),f.active=d,g.event&&g.event.start.call(a,a.__data__,b),l=[],g.tween.forEach(function(c,d){(d=d.call(a,a.__data__,b))&&l.push(d)}),k=g.ease,j=g.duration}function o(e){for(var h=e/j,i=k(h),m=l.length;m>0;)l[--m].call(a,i);if(h>=1)return g.event&&g.event.end.call(a,a.__data__,b),--f.count?delete f[d]:delete a[c],1}var h,i,j,k,l,f=a[c]||(a[c]={active:0,count:0}),g=f[d];g||(h=e.time,i=Ib(m,0,h),g=f[d]={tween:new w,time:h,timer:i,delay:e.delay,duration:e.duration,ease:e.ease,index:b},e=null,++f.count)}function Pi(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate("+(isFinite(d)?d:c(a))+",0)"})}function Qi(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate(0,"+(isFinite(d)?d:c(a))+")"})}function Wi(a){return a.toISOString()}function Xi(a,c,d){function e(b){return a(b)}function f(a,d){var e=a[1]-a[0],f=e/d,g=b.bisect(Zi,f);return g==Zi.length?[c.year,ph(a.map(function(a){return a/31536e6}),d)[2]]:g?c[f/Zi[g-1]<Zi[g]/f?g-1:g]:[aj,ph(a,d)[2]]}return e.invert=function(b){return Yi(a.invert(b))},e.domain=function(b){return arguments.length?(a.domain(b),e):a.domain().map(Yi)},e.nice=function(a,b){function h(c){return!isNaN(c)&&!a.range(c,Yi(+c+1),b).length}var c=e.domain(),d=fh(c),g=null==a?f(d,10):"number"==typeof a&&f(d,a);return g&&(a=g[0],b=g[1]),e.domain(ih(c,b>1?{floor:function(b){for(;h(b=a.floor(b));)b=Yi(b-1);return b},ceil:function(b){for(;h(b=a.ceil(b));)b=Yi(+b+1);return b}}:a))},e.ticks=function(a,b){var c=fh(e.domain()),d=null==a?f(c,10):"number"==typeof a?f(c,a):!a.range&&[{range:a},b];return d&&(a=d[0],b=d[1]),a.range(c[0],Yi(+c[1]+1),b<1?1:b)},e.tickFormat=function(){return d},e.copy=function(){return Xi(a.copy(),c,d)},nh(e,a)}function Yi(a){return new Date(a)}function ej(a){return JSON.parse(a.responseText)}function fj(a){var b=e.createRange();return b.selectNode(e.body),b.createContextualFragment(a.responseText)}var b={version:"3.5.17"},c=[].slice,d=function(a){return c.call(a)},e=this.document;if(e)try{d(e.documentElement.childNodes)[0].nodeType}catch(a){d=function(a){for(var b=a.length,c=new Array(b);b--;)c[b]=a[b];return c}}if(Date.now||(Date.now=function(){return+new Date}),e)try{e.createElement("DIV").style.setProperty("opacity",0,"")}catch(a){var h=this.Element.prototype,i=h.setAttribute,j=h.setAttributeNS,k=this.CSSStyleDeclaration.prototype,l=k.setProperty;h.setAttribute=function(a,b){i.call(this,a,b+"")},h.setAttributeNS=function(a,b,c){j.call(this,a,b,c+"")},k.setProperty=function(a,b,c){l.call(this,a,b+"",c)}}b.ascending=m,b.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN},b.min=function(a,b){var e,f,c=-1,d=a.length;if(1===arguments.length){for(;++c<d;)if(null!=(f=a[c])&&f>=f){e=f;break}for(;++c<d;)null!=(f=a[c])&&e>f&&(e=f)}else{for(;++c<d;)if(null!=(f=b.call(a,a[c],c))&&f>=f){e=f;break}for(;++c<d;)null!=(f=b.call(a,a[c],c))&&e>f&&(e=f)}return e},b.max=function(a,b){var e,f,c=-1,d=a.length;if(1===arguments.length){for(;++c<d;)if(null!=(f=a[c])&&f>=f){e=f;break}for(;++c<d;)null!=(f=a[c])&&f>e&&(e=f)}else{for(;++c<d;)if(null!=(f=b.call(a,a[c],c))&&f>=f){e=f;break}for(;++c<d;)null!=(f=b.call(a,a[c],c))&&f>e&&(e=f)}return e},b.extent=function(a,b){var e,f,g,c=-1,d=a.length;if(1===arguments.length){for(;++c<d;)if(null!=(f=a[c])&&f>=f){e=g=f;break}for(;++c<d;)null!=(f=a[c])&&(e>f&&(e=f),g<f&&(g=f))}else{for(;++c<d;)if(null!=(f=b.call(a,a[c],c))&&f>=f){e=g=f;break}for(;++c<d;)null!=(f=b.call(a,a[c],c))&&(e>f&&(e=f),g<f&&(g=f))}return[e,g]},b.sum=function(a,b){var e,c=0,d=a.length,f=-1;if(1===arguments.length)for(;++f<d;)o(e=+a[f])&&(c+=e);else for(;++f<d;)o(e=+b.call(a,a[f],f))&&(c+=e);return c},b.mean=function(a,b){var e,c=0,d=a.length,f=-1,g=d;if(1===arguments.length)for(;++f<d;)o(e=n(a[f]))?c+=e:--g;else for(;++f<d;)o(e=n(b.call(a,a[f],f)))?c+=e:--g;if(g)return c/g},b.quantile=function(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=+a[d-1],f=c-d;return f?e+f*(a[d]-e):e},b.median=function(a,c){var f,d=[],e=a.length,g=-1;if(1===arguments.length)for(;++g<e;)o(f=n(a[g]))&&d.push(f);else for(;++g<e;)o(f=n(c.call(a,a[g],g)))&&d.push(f);if(d.length)return b.quantile(d.sort(m),.5)},b.variance=function(a,b){var e,f,c=a.length,d=0,g=0,h=-1,i=0;if(1===arguments.length)for(;++h<c;)o(e=n(a[h]))&&(f=e-d,d+=f/++i,g+=f*(e-d));else for(;++h<c;)o(e=n(b.call(a,a[h],h)))&&(f=e-d,d+=f/++i,g+=f*(e-d));if(i>1)return g/(i-1)},b.deviation=function(){var a=b.variance.apply(this,arguments);return a?Math.sqrt(a):a};var q=p(m);b.bisectLeft=q.left,b.bisect=b.bisectRight=q.right,b.bisector=function(a){return p(1===a.length?function(b,c){return m(a(b),c)}:a)},b.shuffle=function(a,b,c){(d=arguments.length)<3&&(c=a.length,d<2&&(b=0));for(var e,f,d=c-b;d;)f=Math.random()*d--|0,e=a[d+b],a[d+b]=a[f+b],a[f+b]=e;return a},b.permute=function(a,b){for(var c=b.length,d=new Array(c);c--;)d[c]=a[b[c]];return d},b.pairs=function(a){for(var d,b=0,c=a.length-1,e=a[0],f=new Array(c<0?0:c);b<c;)f[b]=[d=e,e=a[++b]];return f},b.transpose=function(a){if(!(g=a.length))return[];for(var c=-1,d=b.min(a,r),e=new Array(d);++c<d;)for(var g,f=-1,h=e[c]=new Array(g);++f<g;)h[f]=a[f][c];return e},b.zip=function(){return b.transpose(arguments)},b.keys=function(a){var b=[];for(var c in a)b.push(c);return b},b.values=function(a){var b=[];for(var c in a)b.push(a[c]);return b},b.entries=function(a){var b=[];for(var c in a)b.push({key:c,value:a[c]});return b},b.merge=function(a){for(var c,f,g,b=a.length,d=-1,e=0;++d<b;)e+=a[d].length;for(f=new Array(e);--b>=0;)for(g=a[b],c=g.length;--c>=0;)f[--e]=g[c];return f};var s=Math.abs;b.range=function(a,b,c){if(arguments.length<3&&(c=1,arguments.length<2&&(b=a,a=0)),(b-a)/c===1/0)throw new Error("infinite range");var g,d=[],e=t(s(c)),f=-1;if(a*=e,b*=e,c*=e,c<0)for(;(g=a+c*++f)>b;)d.push(g/e);else for(;(g=a+c*++f)<b;)d.push(g/e);return d},b.map=function(a,b){var c=new w;if(a instanceof w)a.forEach(function(a,b){c.set(a,b)});else if(Array.isArray(a)){var f,d=-1,e=a.length;if(1===arguments.length)for(;++d<e;)c.set(d,a[d]);else for(;++d<e;)c.set(b.call(a,f=a[d],d),f)}else for(var g in a)c.set(g,a[g]);return c};var x="__proto__",y="\0";u(w,{has:B,get:function(a){return this._[z(a)]},set:function(a,b){return this._[z(a)]=b},remove:C,keys:D,values:function(){var a=[];for(var b in this._)a.push(this._[b]);return a},entries:function(){var a=[];for(var b in this._)a.push({key:A(b),value:this._[b]});return a},size:E,empty:F,forEach:function(a){for(var b in this._)a.call(this,A(b),this._[b])}}),b.nest=function(){function g(b,d,h){if(h>=c.length)return f?f.call(a,d):e?d.sort(e):d;for(var l,m,n,p,i=-1,j=d.length,k=c[h++],o=new w;++i<j;)(p=o.get(l=k(m=d[i])))?p.push(m):o.set(l,[m]);return b?(m=b(),n=function(a,c){m.set(a,g(b,c,h))}):(m={},n=function(a,c){m[a]=g(b,c,h)}),o.forEach(n),m}function h(a,b){if(b>=c.length)return a;var e=[],f=d[b++];return a.forEach(function(a,c){e.push({key:a,values:h(c,b)})}),f?e.sort(function(a,b){return f(a.key,b.key)}):e}var e,f,a={},c=[],d=[];return a.map=function(a,b){return g(b,a,0)},a.entries=function(a){return h(g(b.map,a,0),0)},a.key=function(b){return c.push(b),a},a.sortKeys=function(b){return d[c.length-1]=b,a},a.sortValues=function(b){return e=b,a},a.rollup=function(b){return f=b,a},a},b.set=function(a){var b=new G;if(a)for(var c=0,d=a.length;c<d;++c)b.add(a[c]);return b},u(G,{has:B,add:function(a){return this._[z(a+="")]=!0,a},remove:C,values:D,size:E,empty:F,forEach:function(a){for(var b in this._)a.call(this,A(b))}}),b.behavior={},b.rebind=function(a,b){for(var e,c=1,d=arguments.length;++c<d;)a[e=arguments[c]]=I(a,b,b[e]);return a};var K=["webkit","ms","moz","Moz","o","O"];b.dispatch=function(){for(var a=new M,b=-1,c=arguments.length;++b<c;)a[arguments[b]]=N(a);return a},M.prototype.on=function(a,b){var c=a.indexOf("."),d="";if(c>=0&&(d=a.slice(c+1),a=a.slice(0,c)),a)return arguments.length<2?this[a].on(d):this[a].on(d,b);if(2===arguments.length){if(null==b)for(a in this)this.hasOwnProperty(a)&&this[a].on(d,null);return this}},b.event=null,b.requote=function(a){return a.replace(R,"\\$&")};var R=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,S={}.__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=b[c]},U=function(a,b){return b.querySelector(a)},V=function(a,b){return b.querySelectorAll(a)},W=function(a,b){var c=a.matches||a[J(a,"matchesSelector")];return(W=function(a,b){return c.call(a,b)})(a,b)};"function"==typeof Sizzle&&(U=function(a,b){return Sizzle(a,b)[0]||null},V=Sizzle,W=Sizzle.matchesSelector),b.selection=function(){return b.select(e.documentElement)};var X=b.selection.prototype=[];X.select=function(a){var c,d,e,f,b=[];a=Y(a);for(var g=-1,h=this.length;++g<h;){b.push(c=[]),c.parentNode=(e=this[g]).parentNode;for(var i=-1,j=e.length;++i<j;)(f=e[i])?(c.push(d=a.call(f,f.__data__,i,g)),d&&"__data__"in f&&(d.__data__=f.__data__)):c.push(null)}return T(b)},X.selectAll=function(a){var c,e,b=[];a=Z(a);for(var f=-1,g=this.length;++f<g;)for(var h=this[f],i=-1,j=h.length;++i<j;)(e=h[i])&&(b.push(c=d(a.call(e,e.__data__,i,f))),c.parentNode=e);return T(b)};var $="http://www.w3.org/1999/xhtml",_={svg:"http://www.w3.org/2000/svg",xhtml:$,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};b.ns={prefix:_,qualify:function(a){var b=a.indexOf(":"),c=a;return b>=0&&"xmlns"!==(c=a.slice(0,b))&&(a=a.slice(b+1)),_.hasOwnProperty(c)?{space:_[c],local:a}:a}},X.attr=function(a,c){if(arguments.length<2){if("string"==typeof a){var d=this.node();return a=b.ns.qualify(a),a.local?d.getAttributeNS(a.space,a.local):d.getAttribute(a)}for(c in a)this.each(aa(c,a[c]));return this}return this.each(aa(a,c))},X.classed=function(a,b){if(arguments.length<2){if("string"==typeof a){var c=this.node(),d=(a=da(a)).length,e=-1;if(b=c.classList){for(;++e<d;)if(!b.contains(a[e]))return!1}else for(b=c.getAttribute("class");++e<d;)if(!ca(a[e]).test(b))return!1;return!0}for(b in a)this.each(ea(b,a[b]));return this}return this.each(ea(a,b))},X.style=function(a,b,c){var d=arguments.length;if(d<3){if("string"!=typeof a){d<2&&(b="");for(c in a)this.each(ga(c,a[c],b));return this}if(d<2){var e=this.node();return g(e).getComputedStyle(e,null).getPropertyValue(a)}c=""}return this.each(ga(a,b,c))},X.property=function(a,b){if(arguments.length<2){if("string"==typeof a)return this.node()[a];for(b in a)this.each(ha(b,a[b]));return this}return this.each(ha(a,b))},X.text=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}:null==a?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent},X.html=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML},X.append=function(a){return a=ia(a),this.select(function(){return this.appendChild(a.apply(this,arguments))})},X.insert=function(a,b){return a=ia(a),b=Y(b),this.select(function(){return this.insertBefore(a.apply(this,arguments),b.apply(this,arguments)||null)})},X.remove=function(){return this.each(ja)},X.data=function(a,b){function g(a,c){var d,n,o,e=a.length,f=c.length,g=Math.min(e,f),k=new Array(f),l=new Array(f),m=new Array(e);if(b){var r,p=new w,q=new Array(e);for(d=-1;++d<e;)(n=a[d])&&(p.has(r=b.call(n,n.__data__,d))?m[d]=n:p.set(r,n),q[d]=r);for(d=-1;++d<f;)(n=p.get(r=b.call(c,o=c[d],d)))?n!==!0&&(k[d]=n,n.__data__=o):l[d]=ka(o),p.set(r,!0);for(d=-1;++d<e;)d in q&&p.get(q[d])!==!0&&(m[d]=a[d])}else{for(d=-1;++d<g;)n=a[d],o=c[d],n?(n.__data__=o,k[d]=n):l[d]=ka(o);for(;d<f;++d)l[d]=ka(c[d]);for(;d<e;++d)m[d]=a[d]}l.update=k,l.parentNode=k.parentNode=m.parentNode=a.parentNode,h.push(l),i.push(k),j.push(m)}var e,f,c=-1,d=this.length;if(!arguments.length){for(a=new Array(d=(e=this[0]).length);++c<d;)(f=e[c])&&(a[c]=f.__data__);return a}var h=oa([]),i=T([]),j=T([]);if("function"==typeof a)for(;++c<d;)g(e=this[c],a.call(e,e.parentNode.__data__,c));else for(;++c<d;)g(e=this[c],a);return i.enter=function(){return h},i.exit=function(){return j},i},X.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")},X.filter=function(a){var c,d,e,b=[];"function"!=typeof a&&(a=la(a));for(var f=0,g=this.length;f<g;f++){b.push(c=[]),c.parentNode=(d=this[f]).parentNode;for(var h=0,i=d.length;h<i;h++)(e=d[h])&&a.call(e,e.__data__,h,f)&&c.push(e)}return T(b)},X.order=function(){for(var a=-1,b=this.length;++a<b;)for(var f,c=this[a],d=c.length-1,e=c[d];--d>=0;)(f=c[d])&&(e&&e!==f.nextSibling&&e.parentNode.insertBefore(f,e),e=f);return this},X.sort=function(a){a=ma.apply(this,arguments);for(var b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()},X.each=function(a){return na(this,function(b,c,d){a.call(b,b.__data__,c,d)})},X.call=function(a){var b=d(arguments);return a.apply(b[0]=this,b),this},X.empty=function(){return!this.node()},X.node=function(){for(var a=0,b=this.length;a<b;a++)for(var c=this[a],d=0,e=c.length;d<e;d++){var f=c[d];if(f)return f}return null},X.size=function(){var a=0;return na(this,function(){++a}),a};var pa=[];b.selection.enter=oa,b.selection.enter.prototype=pa,pa.append=X.append,pa.empty=X.empty,pa.node=X.node,pa.call=X.call,pa.size=X.size,pa.select=function(a){for(var c,d,e,f,g,b=[],h=-1,i=this.length;++h<i;){e=(f=this[h]).update,b.push(c=[]),c.parentNode=f.parentNode;for(var j=-1,k=f.length;++j<k;)(g=f[j])?(c.push(e[j]=d=a.call(f.parentNode,g.__data__,j,h)),d.__data__=g.__data__):c.push(null)}return T(b)},pa.insert=function(a,b){return arguments.length<2&&(b=qa(this)),X.insert.call(this,a,b)},b.select=function(a){var b;return"string"==typeof a?(b=[U(a,e)],b.parentNode=e.documentElement):(b=[a],b.parentNode=f(a)),T([b])},b.selectAll=function(a){var b;return"string"==typeof a?(b=d(V(a,e)),b.parentNode=e.documentElement):(b=d(a),b.parentNode=null),T([b])},X.on=function(a,b,c){var d=arguments.length;if(d<3){if("string"!=typeof a){d<2&&(b=!1);for(c in a)this.each(ra(c,a[c],b));return this}if(d<2)return(d=this.node()["__on"+a])&&d._;c=!1}return this.each(ra(a,b,c))};var sa=b.map({mouseenter:"mouseover",mouseleave:"mouseout"});e&&sa.forEach(function(a){"on"+a in e&&sa.remove(a)});var va,wa=0;b.mouse=function(a){return za(a,P())};var ya=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;b.touch=function(a,b,c){if(arguments.length<3&&(c=b,b=P().changedTouches),b)for(var f,d=0,e=b.length;d<e;++d)if((f=b[d]).identifier===c)return za(a,f)},b.behavior.drag=function(){function f(){this.on("mousedown.drag",d).on("touchstart.drag",e)}function h(d,e,f,g,h){return function(){function t(){var b,c,a=e(k,n);a&&(b=a[0]-s[0],c=a[1]-s[1],m|=b|c,s=a,l({type:"drag",x:a[0]+p[0],y:a[1]+p[1],dx:b,dy:c}))}function u(){e(k,n)&&(q.on(g+o,null).on(h+o,null),r(m),l({type:"dragend"}))}var p,i=this,j=b.event.target.correspondingElement||b.event.target,k=i.parentNode,l=a.of(i,arguments),m=0,n=d(),o=".drag"+(null==n?"":"-"+n),q=b.select(f(j)).on(g+o,t).on(h+o,u),r=xa(j),s=e(k,n);c?(p=c.apply(i,arguments),p=[p.x-s[0],p.y-s[1]]):p=[0,0],l({type:"dragstart"})}}var a=Q(f,"drag","dragstart","dragend"),c=null,d=h(L,b.mouse,g,"mousemove","mouseup"),e=h(Aa,b.touch,H,"touchmove","touchend");return f.origin=function(a){return arguments.length?(c=a,f):c},b.rebind(f,a,"on")},b.touches=function(a,b){return arguments.length<2&&(b=P().touches),b?d(b).map(function(b){var c=za(a,b);return c.identifier=b.identifier,c}):[]};var Ba=1e-6,Ca=Ba*Ba,Da=Math.PI,Ea=2*Da,Fa=Ea-Ba,Ga=Da/2,Ha=Da/180,Ia=180/Da,Ra=Math.SQRT2,Sa=2,Ta=4;b.interpolateZoom=function(a,b){var l,m,c=a[0],d=a[1],e=a[2],f=b[0],g=b[1],h=b[2],i=f-c,j=g-d,k=i*i+j*j;if(k<Ca)m=Math.log(h/e)/Ra,l=function(a){return[c+a*i,d+a*j,e*Math.exp(Ra*a*m)]};else{var n=Math.sqrt(k),o=(h*h-e*e+Ta*k)/(2*e*Sa*n),p=(h*h-e*e-Ta*k)/(2*h*Sa*n),q=Math.log(Math.sqrt(o*o+1)-o),r=Math.log(Math.sqrt(p*p+1)-p);m=(r-q)/Ra,l=function(a){var b=a*m,f=Oa(q),g=e/(Sa*n)*(f*Pa(Ra*b+q)-Na(q));return[c+g*i,d+g*j,e*f/Oa(Ra*b+q)]}}return l.duration=1e3*m,l},b.behavior.zoom=function(){function w(a){a.on(l,G).on(Wa+".zoom",I).on("dblclick.zoom",J).on(p,H)}function x(b){return[(b[0]-a.x)/a.k,(b[1]-a.y)/a.k]}function y(b){return[b[0]*a.k+a.x,b[1]*a.k+a.y]}function z(b){a.k=Math.max(i[0],Math.min(i[1],b))}function A(b,c){c=y(c),a.x+=b[0]-c[0],a.y+=b[1]-c[1]}function B(c,e,f,g){c.__chart__={x:a.x,y:a.y,k:a.k},z(Math.pow(2,g)),A(d=e,f),c=b.select(c),j>0&&(c=c.transition().duration(j)),c.call(w.event)}function C(){t&&t.domain(s.range().map(function(b){return(b-a.x)/a.k}).map(s.invert)),v&&v.domain(u.range().map(function(b){return(b-a.y)/a.k}).map(u.invert))}function D(a){k++||a({type:"zoomstart"})}function E(b){C(),b({type:"zoom",scale:a.k,translate:[a.x,a.y]})}function F(a){--k||(a({type:"zoomend"}),d=null)}function G(){function i(){d=1,A(b.mouse(a),f),E(c)}function j(){e.on(m,null).on(n,null),h(d),F(c)}var a=this,c=r.of(a,arguments),d=0,e=b.select(g(a)).on(m,i).on(n,j),f=x(b.mouse(a)),h=xa(a);Ci.call(a),D(c)}function H(){function o(){var d=b.touches(c);return g=a.k,d.forEach(function(a){a.identifier in e&&(e[a.identifier]=x(a))}),d}function s(){var d=b.event.target;b.select(d).on(i,t).on(j,u),k.push(d);for(var g=b.event.changedTouches,h=0,l=g.length;h<l;++h)e[g[h].identifier]=null;var m=o(),n=Date.now();if(1===m.length){if(n-q<500){var p=m[0];B(c,p,e[p.identifier],Math.floor(Math.log(a.k)/Math.LN2)+1),O()}q=n}else if(m.length>1){var p=m[0],r=m[1],s=p[0]-r[0],v=p[1]-r[1];f=s*s+v*v}}function t(){var h,i,j,k,a=b.touches(c);Ci.call(c);for(var l=0,m=a.length;l<m;++l,k=null)if(j=a[l],k=e[j.identifier]){if(i)break;h=j,i=k}if(k){var n=(n=j[0]-h[0])*n+(n=j[1]-h[1])*n,o=f&&Math.sqrt(n/f);h=[(h[0]+j[0])/2,(h[1]+j[1])/2],i=[(i[0]+k[0])/2,(i[1]+k[1])/2],z(o*g)}q=null,A(h,i),E(d)}function u(){if(b.event.touches.length){for(var a=b.event.changedTouches,c=0,f=a.length;c<f;++c)delete e[a[c].identifier];for(var g in e)return void o()}b.selectAll(k).on(h,null),m.on(l,G).on(p,H),n(),F(d)}var g,c=this,d=r.of(c,arguments),e={},f=0,h=".zoom-"+b.event.changedTouches[0].identifier,i="touchmove"+h,j="touchend"+h,k=[],m=b.select(c),n=xa(c);s(),D(d),m.on(l,null).on(p,s)}function I(){var e=r.of(this,arguments);o?clearTimeout(o):(Ci.call(this),c=x(d=f||b.mouse(this)),D(e)),o=setTimeout(function(){o=null,F(e)},50),O(),z(Math.pow(2,.002*Va())*a.k),A(d,c),E(e)}function J(){var c=b.mouse(this),d=Math.log(a.k)/Math.LN2;B(this,c,x(c),b.event.shiftKey?Math.ceil(d)-1:Math.floor(d)+1)}var c,d,f,o,q,s,t,u,v,a={x:0,y:0,k:1},h=[960,500],i=Ua,j=250,k=0,l="mousedown.zoom",m="mousemove.zoom",n="mouseup.zoom",p="touchstart.zoom",r=Q(w,"zoomstart","zoom","zoomend");return Wa||(Wa="onwheel"in e?(Va=function(){return-b.event.deltaY*(b.event.deltaMode?120:1)},"wheel"):"onmousewheel"in e?(Va=function(){return b.event.wheelDelta},"mousewheel"):(Va=function(){return-b.event.detail},"MozMousePixelScroll")),w.event=function(c){c.each(function(){var c=r.of(this,arguments),e=a;Hi?b.select(this).transition().each("start.zoom",function(){a=this.__chart__||{x:0,y:0,k:1},D(c)}).tween("zoom:zoom",function(){var f=h[0],g=h[1],i=d?d[0]:f/2,j=d?d[1]:g/2,k=b.interpolateZoom([(i-a.x)/a.k,(j-a.y)/a.k,f/a.k],[(i-e.x)/e.k,(j-e.y)/e.k,f/e.k]);return function(b){var d=k(b),e=f/d[2];this.__chart__=a={x:i-d[0]*e,y:j-d[1]*e,k:e},E(c)}}).each("interrupt.zoom",function(){F(c)}).each("end.zoom",function(){F(c)}):(this.__chart__=a,D(c),E(c),F(c))})},w.translate=function(b){return arguments.length?(a={x:+b[0],y:+b[1],k:a.k},C(),w):[a.x,a.y]},w.scale=function(b){return arguments.length?(a={x:a.x,y:a.y,k:null},z(+b),C(),w):a.k},w.scaleExtent=function(a){return arguments.length?(i=null==a?Ua:[+a[0],+a[1]],w):i},w.center=function(a){return arguments.length?(f=a&&[+a[0],+a[1]],w):f},w.size=function(a){return arguments.length?(h=a&&[+a[0],+a[1]],w):h},w.duration=function(a){return arguments.length?(j=+a,w):j},w.x=function(b){return arguments.length?(t=b,s=b.copy(),a={x:0,y:0,k:1},w):t},w.y=function(b){return arguments.length?(v=b,u=b.copy(),a={x:0,y:0,k:1},w):v},b.rebind(w,r,"on")};var Va,Wa,Ua=[0,1/0];b.color=Xa,Xa.prototype.toString=function(){return this.rgb()+""},b.hsl=Ya;var Za=Ya.prototype=new Xa;Za.brighter=function(a){return a=Math.pow(.7,arguments.length?a:1),new Ya(this.h,this.s,this.l/a)},Za.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new Ya(this.h,this.s,a*this.l)},Za.rgb=function(){return $a(this.h,this.s,this.l)},b.hcl=_a;var ab=_a.prototype=new Xa;ab.brighter=function(a){return new _a(this.h,this.c,Math.min(100,this.l+db*(arguments.length?a:1)))},ab.darker=function(a){return new _a(this.h,this.c,Math.max(0,this.l-db*(arguments.length?a:1)))},ab.rgb=function(){return bb(this.h,this.c,this.l).rgb()},b.lab=cb;var db=18,eb=.95047,fb=1,gb=1.08883,hb=cb.prototype=new Xa;hb.brighter=function(a){return new cb(Math.min(100,this.l+db*(arguments.length?a:1)),this.a,this.b)},hb.darker=function(a){return new cb(Math.max(0,this.l-db*(arguments.length?a:1)),this.a,this.b)},hb.rgb=function(){return ib(this.l,this.a,this.b)},b.rgb=nb;var qb=nb.prototype=new Xa;qb.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var b=this.r,c=this.g,d=this.b,e=30;return b||c||d?(b&&b<e&&(b=e),c&&c<e&&(c=e),d&&d<e&&(d=e),new nb(Math.min(255,b/a),Math.min(255,c/a),Math.min(255,d/a))):new nb(e,e,e)},qb.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new nb(a*this.r,a*this.g,a*this.b)},qb.hsl=function(){return tb(this.r,this.g,this.b)},qb.toString=function(){return"#"+rb(this.r)+rb(this.g)+rb(this.b)};var xb=b.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});xb.forEach(function(a,b){xb.set(a,ob(b))}),b.functor=yb,b.xhr=zb(H),b.dsv=function(a,b){function e(a,c,d){arguments.length<3&&(d=c,c=null);var e=Ab(a,b,null==c?f:g(c),d);return e.row=function(a){return arguments.length?e.response(null==(c=a)?f:g(a)):c},e}function f(a){return e.parse(a.responseText)}function g(a){return function(b){return e.parse(b.responseText,a)}}function h(b){return b.map(i).join(a)}function i(a){return c.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var c=new RegExp('["'+a+"\n]"),d=a.charCodeAt(0);return e.parse=function(a,b){var c;return e.parseRows(a,function(a,d){if(c)return c(a,d-1);var e=new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}");c=b?function(a,c){return b(e(a),c)}:e})},e.parseRows=function(a,b){function l(){if(h>=g)return e;if(k)return k=!1,c;var b=h;if(34===a.charCodeAt(b)){for(var f=b;f++<g;)if(34===a.charCodeAt(f)){if(34!==a.charCodeAt(f+1))break;++f}h=f+2;var i=a.charCodeAt(f+1);return 13===i?(k=!0,10===a.charCodeAt(f+2)&&++h):10===i&&(k=!0),a.slice(b+1,f).replace(/""/g,'"')}for(;h<g;){var i=a.charCodeAt(h++),j=1;if(10===i)k=!0;else if(13===i)k=!0,10===a.charCodeAt(h)&&(++h,++j);else if(i!==d)continue;return a.slice(b,h-j)}return a.slice(b)}for(var j,k,c={},e={},f=[],g=a.length,h=0,i=0;(j=l())!==e;){for(var m=[];j!==c&&j!==e;)m.push(j),j=l();b&&null==(m=b(m,i++))||f.push(m)}return f},e.format=function(b){if(Array.isArray(b[0]))return e.formatRows(b);var c=new G,d=[];return b.forEach(function(a){for(var b in a)c.has(b)||d.push(c.add(b))}),[d.map(i).join(a)].concat(b.map(function(b){return d.map(function(a){return i(b[a])}).join(a)})).join("\n")},e.formatRows=function(a){return a.map(h).join("\n")},e},b.csv=b.dsv(",","text/csv"),b.tsv=b.dsv(" ","text/tab-separated-values");var Db,Eb,Fb,Gb,Hb=this[J(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};b.timer=function(){Ib.apply(this,arguments)},b.timer.flush=function(){Kb(),Lb()},b.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};var Nb=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Ob);b.formatPrefix=function(a,c){var d=0;return(a=+a)&&(a<0&&(a*=-1),c&&(a=b.round(a,Mb(a,c))),d=1+Math.floor(1e-12+Math.log(a)/Math.LN10),d=Math.max(-24,Math.min(24,3*Math.floor((d-1)/3)))),Nb[8+d/3]};var Qb=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Rb=b.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,c){return(a=b.round(a,Mb(a,c))).toFixed(Math.max(0,Math.min(20,Mb(a*(1+1e-15),c))))}}),Tb=b.time={},Ub=Date;Vb.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Wb.setUTCDate.apply(this._,arguments)},setDay:function(){Wb.setUTCDay.apply(this._,arguments)},setFullYear:function(){Wb.setUTCFullYear.apply(this._,arguments)},setHours:function(){Wb.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Wb.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Wb.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Wb.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Wb.setUTCSeconds.apply(this._,arguments)},setTime:function(){Wb.setTime.apply(this._,arguments)}};var Wb=Date.prototype;Tb.year=Xb(function(a){return a=Tb.day(a),a.setMonth(0,1),a},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a){return a.getFullYear()}),Tb.years=Tb.year.range,Tb.years.utc=Tb.year.utc.range,Tb.day=Xb(function(a){var b=new Ub(2e3,0);return b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),b},function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1}),Tb.days=Tb.day.range,Tb.days.utc=Tb.day.utc.range,Tb.dayOfYear=function(a){var b=Tb.year(a);return Math.floor((a-b-6e4*(a.getTimezoneOffset()-b.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(a,b){b=7-b;var c=Tb[a]=Xb(function(a){return(a=Tb.day(a)).setDate(a.getDate()-(a.getDay()+b)%7),a},function(a,b){a.setDate(a.getDate()+7*Math.floor(b))},function(a){var c=Tb.year(a).getDay();return Math.floor((Tb.dayOfYear(a)+(c+b)%7)/7)-(c!==b)});Tb[a+"s"]=c.range,Tb[a+"s"].utc=c.utc.range,Tb[a+"OfYear"]=function(a){var c=Tb.year(a).getDay();return Math.floor((Tb.dayOfYear(a)+(c+b)%7)/7)}}),Tb.week=Tb.sunday,Tb.weeks=Tb.sunday.range,Tb.weeks.utc=Tb.sunday.utc.range,Tb.weekOfYear=Tb.sundayOfYear;var $b={"-":"",_:" ",0:"0"},_b=/^\s*\d+/,ac=/^%/;b.locale=function(a){return{numberFormat:Pb(a),timeFormat:Zb(a)}};var vc=b.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],
shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});b.format=vc.numberFormat,b.geo={},wc.prototype={s:0,t:0,add:function(a){yc(a,this.t,xc),yc(xc.s,this.s,this),this.s?this.t+=xc.t:this.s=xc.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var xc=new wc;b.geo.stream=function(a,b){a&&Ac.hasOwnProperty(a.type)?Ac[a.type](a,b):zc(a,b)};var Ac={Feature:function(a,b){zc(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,d=-1,e=c.length;++d<e;)zc(c[d].geometry,b)}},Bc={Sphere:function(a,b){b.sphere()},Point:function(a,b){a=a.coordinates,b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)a=c[d],b.point(a[0],a[1],a[2])},LineString:function(a,b){Cc(a.coordinates,b,0)},MultiLineString:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)Cc(c[d],b,0)},Polygon:function(a,b){Dc(a.coordinates,b)},MultiPolygon:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)Dc(c[d],b)},GeometryCollection:function(a,b){for(var c=a.geometries,d=-1,e=c.length;++d<e;)zc(c[d],b)}};b.geo.area=function(a){return Ec=0,b.geo.stream(a,Gc),Ec};var Ec,Fc=new wc,Gc={sphere:function(){Ec+=4*Da},point:L,lineStart:L,lineEnd:L,polygonStart:function(){Fc.reset(),Gc.lineStart=Hc},polygonEnd:function(){var a=2*Fc;Ec+=a<0?4*Da+a:a,Gc.lineStart=Gc.lineEnd=Gc.point=L}};b.geo.bounds=function(){function n(b,f){k.push(l=[a=b,d=b]),f<c&&(c=f),f>e&&(e=f)}function o(b,g){var h=Ic([b*Ha,g*Ha]);if(i){var j=Kc(i,h),k=[j[1],-j[0],0],l=Kc(k,j);Nc(l),l=Oc(l);var m=b-f,o=m>0?1:-1,p=l[0]*Ia*o,q=s(m)>180;if(q^(o*f<p&&p<o*b)){var r=l[1]*Ia;r>e&&(e=r)}else if(p=(p+360)%360-180,q^(o*f<p&&p<o*b)){var r=-l[1]*Ia;r<c&&(c=r)}else g<c&&(c=g),g>e&&(e=g);q?b<f?v(a,b)>v(a,d)&&(d=b):v(b,d)>v(a,d)&&(a=b):d>=a?(b<a&&(a=b),b>d&&(d=b)):b>f?v(a,b)>v(a,d)&&(d=b):v(b,d)>v(a,d)&&(a=b)}else n(b,g);i=h,f=b}function p(){m.point=o}function q(){l[0]=a,l[1]=d,m.point=n,i=null}function r(a,b){if(i){var c=a-f;j+=s(c)>180?c+(c>0?360:-360):c}else g=a,h=b;Gc.point(a,b),o(a,b)}function t(){Gc.lineStart()}function u(){r(g,h),Gc.lineEnd(),s(j)>Ba&&(a=-(d=180)),l[0]=a,l[1]=d,i=null}function v(a,b){return(b-=a)<0?b+360:b}function w(a,b){return a[0]-b[0]}function x(a,b){return b[0]<=b[1]?b[0]<=a&&a<=b[1]:a<b[0]||b[1]<a}var a,c,d,e,f,g,h,i,j,k,l,m={point:n,lineStart:p,lineEnd:q,polygonStart:function(){m.point=r,m.lineStart=t,m.lineEnd=u,j=0,Gc.polygonStart()},polygonEnd:function(){Gc.polygonEnd(),m.point=n,m.lineStart=p,m.lineEnd=q,Fc<0?(a=-(d=180),c=-(e=90)):j>Ba?e=90:j<-Ba&&(c=-90),l[0]=a,l[1]=d}};return function(f){e=d=-(a=c=1/0),k=[],b.geo.stream(f,m);var g=k.length;if(g){k.sort(w);for(var j,h=1,i=k[0],n=[i];h<g;++h)j=k[h],x(j[0],i)||x(j[1],i)?(v(i[0],j[1])>v(i[0],i[1])&&(i[1]=j[1]),v(j[0],i[1])>v(i[0],i[1])&&(i[0]=j[0])):n.push(i=j);for(var p,j,o=-(1/0),g=n.length-1,h=0,i=n[g];h<=g;i=j,++h)j=n[h],(p=v(i[1],j[0]))>o&&(o=p,a=j[0],d=i[1])}return k=l=null,a===1/0||c===1/0?[[NaN,NaN],[NaN,NaN]]:[[a,c],[d,e]]}}(),b.geo.centroid=function(a){Qc=Rc=Sc=Tc=Uc=Vc=Wc=Xc=Yc=Zc=$c=0,b.geo.stream(a,_c);var c=Yc,d=Zc,e=$c,f=c*c+d*d+e*e;return f<Ca&&(c=Vc,d=Wc,e=Xc,Rc<Ba&&(c=Sc,d=Tc,e=Uc),f=c*c+d*d+e*e,f<Ca)?[NaN,NaN]:[Math.atan2(d,c)*Ia,Ma(e/Math.sqrt(f))*Ia]};var Qc,Rc,Sc,Tc,Uc,Vc,Wc,Xc,Yc,Zc,$c,_c={sphere:L,point:ad,lineStart:cd,lineEnd:dd,polygonStart:function(){_c.lineStart=ed},polygonEnd:function(){_c.lineStart=cd}},od=kd(gd,pd,rd,[-Da,-Da/2]),vd=1e9;b.geo.clipExtent=function(){var a,b,c,d,e,f,g={stream:function(a){return e&&(e.valid=!1),e=f(a),e.valid=!0,e},extent:function(h){return arguments.length?(f=wd(a=+h[0][0],b=+h[0][1],c=+h[1][0],d=+h[1][1]),e&&(e.valid=!1,e=null),g):[[a,b],[c,d]]}};return g.extent([[0,0],[960,500]])},(b.geo.conicEqualArea=function(){return xd(yd)}).raw=yd,b.geo.albers=function(){return b.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},b.geo.albersUsa=function(){function j(a){var b=a[0],c=a[1];return e=null,g(b,c),e||(h(b,c),e)||i(b,c),e}var e,g,h,i,a=b.geo.albers(),c=b.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),d=b.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(a,b){e=[a,b]}};return j.invert=function(b){var e=a.scale(),f=a.translate(),g=(b[0]-f[0])/e,h=(b[1]-f[1])/e;return(h>=.12&&h<.234&&g>=-.425&&g<-.214?c:h>=.166&&h<.234&&g>=-.214&&g<-.115?d:a).invert(b)},j.stream=function(b){var e=a.stream(b),f=c.stream(b),g=d.stream(b);return{point:function(a,b){e.point(a,b),f.point(a,b),g.point(a,b)},sphere:function(){e.sphere(),f.sphere(),g.sphere()},lineStart:function(){e.lineStart(),f.lineStart(),g.lineStart()},lineEnd:function(){e.lineEnd(),f.lineEnd(),g.lineEnd()},polygonStart:function(){e.polygonStart(),f.polygonStart(),g.polygonStart()},polygonEnd:function(){e.polygonEnd(),f.polygonEnd(),g.polygonEnd()}}},j.precision=function(b){return arguments.length?(a.precision(b),c.precision(b),d.precision(b),j):a.precision()},j.scale=function(b){return arguments.length?(a.scale(b),c.scale(.35*b),d.scale(b),j.translate(a.translate())):a.scale()},j.translate=function(b){if(!arguments.length)return a.translate();var e=a.scale(),k=+b[0],l=+b[1];return g=a.translate(b).clipExtent([[k-.455*e,l-.238*e],[k+.455*e,l+.238*e]]).stream(f).point,h=c.translate([k-.307*e,l+.201*e]).clipExtent([[k-.425*e+Ba,l+.12*e+Ba],[k-.214*e-Ba,l+.234*e-Ba]]).stream(f).point,i=d.translate([k-.205*e,l+.212*e]).clipExtent([[k-.214*e+Ba,l+.166*e+Ba],[k-.115*e-Ba,l+.234*e-Ba]]).stream(f).point,j},j.scale(1070)};var zd,Ad,Dd,Ed,Fd,Gd,Bd={point:L,lineStart:L,lineEnd:L,polygonStart:function(){Ad=0,Bd.lineStart=Cd},polygonEnd:function(){Bd.lineStart=Bd.lineEnd=Bd.point=L,zd+=s(Ad/2)}},Hd={point:Id,lineStart:L,lineEnd:L,polygonStart:L,polygonEnd:L},Ld={point:Md,lineStart:Nd,lineEnd:Od,polygonStart:function(){Ld.lineStart=Pd},polygonEnd:function(){Ld.point=Md,Ld.lineStart=Nd,Ld.lineEnd=Od}};b.geo.path=function(){function h(c){return c&&("function"==typeof a&&f.pointRadius(+a.apply(this,arguments)),g&&g.valid||(g=e(f)),b.geo.stream(c,g)),f.result()}function i(){return g=null,h}var c,d,e,f,g,a=4.5;return h.area=function(a){return zd=0,b.geo.stream(a,e(Bd)),zd},h.centroid=function(a){return Sc=Tc=Uc=Vc=Wc=Xc=Yc=Zc=$c=0,b.geo.stream(a,e(Ld)),$c?[Yc/$c,Zc/$c]:Xc?[Vc/Xc,Wc/Xc]:Uc?[Sc/Uc,Tc/Uc]:[NaN,NaN]},h.bounds=function(a){return Fd=Gd=-(Dd=Ed=1/0),b.geo.stream(a,e(Hd)),[[Dd,Ed],[Fd,Gd]]},h.projection=function(a){return arguments.length?(e=(c=a)?a.stream||Sd(a):H,i()):c},h.context=function(b){return arguments.length?(f=null==(d=b)?new Jd:new Qd(b),"function"!=typeof a&&f.pointRadius(a),i()):d},h.pointRadius=function(b){return arguments.length?(a="function"==typeof b?b:(f.pointRadius(+b),+b),h):a},h.projection(b.geo.albersUsa()).context(null)},b.geo.transform=function(a){return{stream:function(b){var c=new Td(b);for(var d in a)c[d]=a[d];return c}}},Td.prototype={point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},b.geo.projection=Vd,b.geo.projectionMutator=Wd,(b.geo.equirectangular=function(){return Vd(Yd)}).raw=Yd.invert=Yd,b.geo.rotation=function(a){function b(b){return b=a(b[0]*Ha,b[1]*Ha),b[0]*=Ia,b[1]*=Ia,b}return a=$d(a[0]%360*Ha,a[1]*Ha,a.length>2?a[2]*Ha:0),b.invert=function(b){return b=a.invert(b[0]*Ha,b[1]*Ha),b[0]*=Ia,b[1]*=Ia,b},b},Zd.invert=Yd,b.geo.circle=function(){function e(){var b="function"==typeof a?a.apply(this,arguments):a,c=$d(-b[0]*Ha,-b[1]*Ha,0).invert,e=[];return d(null,null,1,{point:function(a,b){e.push(a=c(a,b)),a[0]*=Ia,a[1]*=Ia}}),{type:"Polygon",coordinates:[e]}}var b,d,a=[0,0],c=6;return e.origin=function(b){return arguments.length?(a=b,e):a},e.angle=function(a){return arguments.length?(d=ce((b=+a)*Ha,c*Ha),e):b},e.precision=function(a){return arguments.length?(d=ce(b*Ha,(c=+a)*Ha),e):c},e.angle(90)},b.geo.distance=function(a,b){var l,c=(b[0]-a[0])*Ha,d=a[1]*Ha,e=b[1]*Ha,f=Math.sin(c),g=Math.cos(c),h=Math.sin(d),i=Math.cos(d),j=Math.sin(e),k=Math.cos(e);return Math.atan2(Math.sqrt((l=k*f)*l+(l=i*j-h*k*g)*l),h*j+i*k*g)},b.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:u()}}function u(){return b.range(Math.ceil(e/l)*l,d,l).map(p).concat(b.range(Math.ceil(i/m)*m,h,m).map(q)).concat(b.range(Math.ceil(c/j)*j,a,j).filter(function(a){return s(a%l)>Ba}).map(n)).concat(b.range(Math.ceil(g/k)*k,f,k).filter(function(a){return s(a%m)>Ba}).map(o))}var a,c,d,e,f,g,h,i,n,o,p,q,j=10,k=j,l=90,m=360,r=2.5;return t.lines=function(){return u().map(function(a){return{type:"LineString",coordinates:a}})},t.outline=function(){return{type:"Polygon",coordinates:[p(e).concat(q(h).slice(1),p(d).reverse().slice(1),q(i).reverse().slice(1))]}},t.extent=function(a){return arguments.length?t.majorExtent(a).minorExtent(a):t.minorExtent()},t.majorExtent=function(a){return arguments.length?(e=+a[0][0],d=+a[1][0],i=+a[0][1],h=+a[1][1],e>d&&(a=e,e=d,d=a),i>h&&(a=i,i=h,h=a),t.precision(r)):[[e,i],[d,h]]},t.minorExtent=function(b){return arguments.length?(c=+b[0][0],a=+b[1][0],g=+b[0][1],f=+b[1][1],c>a&&(b=c,c=a,a=b),g>f&&(b=g,g=f,f=b),t.precision(r)):[[c,g],[a,f]]},t.step=function(a){return arguments.length?t.majorStep(a).minorStep(a):t.minorStep()},t.majorStep=function(a){return arguments.length?(l=+a[0],m=+a[1],t):[l,m]},t.minorStep=function(a){return arguments.length?(j=+a[0],k=+a[1],t):[j,k]},t.precision=function(b){return arguments.length?(r=+b,n=ee(g,f,90),o=fe(c,a,r),p=ee(i,h,90),q=fe(e,d,r),t):r},t.majorExtent([[-180,-90+Ba],[180,90-Ba]]).minorExtent([[-180,-80-Ba],[180,80+Ba]])},b.geo.greatArc=function(){function f(){return{type:"LineString",coordinates:[c||a.apply(this,arguments),e||d.apply(this,arguments)]}}var c,e,a=ge,d=he;return f.distance=function(){return b.geo.distance(c||a.apply(this,arguments),e||d.apply(this,arguments))},f.source=function(b){return arguments.length?(a=b,c="function"==typeof b?null:b,f):a},f.target=function(a){return arguments.length?(d=a,e="function"==typeof a?null:a,f):d},f.precision=function(){return arguments.length?f:0},f},b.geo.interpolate=function(a,b){return ie(a[0]*Ha,a[1]*Ha,b[0]*Ha,b[1]*Ha)},b.geo.length=function(a){return je=0,b.geo.stream(a,ke),je};var je,ke={sphere:L,point:L,lineStart:le,lineEnd:L,polygonStart:L,polygonEnd:L},ne=me(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(b.geo.azimuthalEqualArea=function(){return Vd(ne)}).raw=ne;var oe=me(function(a){var b=Math.acos(a);return b&&b/Math.sin(b)},H);(b.geo.azimuthalEquidistant=function(){return Vd(oe)}).raw=oe,(b.geo.conicConformal=function(){return xd(pe)}).raw=pe,(b.geo.conicEquidistant=function(){return xd(qe)}).raw=qe;var re=me(function(a){return 1/a},Math.atan);(b.geo.gnomonic=function(){return Vd(re)}).raw=re,se.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-Ga]},(b.geo.mercator=function(){return te(se)}).raw=se;var ue=me(function(){return 1},Math.asin);(b.geo.orthographic=function(){return Vd(ue)}).raw=ue;var ve=me(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(b.geo.stereographic=function(){return Vd(ve)}).raw=ve,we.invert=function(a,b){return[-b,2*Math.atan(Math.exp(a))-Ga]},(b.geo.transverseMercator=function(){var a=te(we),b=a.center,c=a.rotate;return a.center=function(a){return a?b([-a[1],a[0]]):(a=b(),[a[1],-a[0]])},a.rotate=function(a){return a?c([a[0],a[1],a.length>2?a[2]+90:90]):(a=c(),[a[0],a[1],a[2]-90])},c([0,0,90])}).raw=we,b.geom={},b.geom.hull=function(a){function d(a){if(a.length<3)return[];var f,d=yb(b),e=yb(c),g=a.length,h=[],i=[];for(f=0;f<g;f++)h.push([+d.call(this,a[f],f),+e.call(this,a[f],f),f]);for(h.sort(Ae),f=0;f<g;f++)i.push([h[f][0],-h[f][1]]);var j=ze(h),k=ze(i),l=k[0]===j[0],m=k[k.length-1]===j[j.length-1],n=[];for(f=j.length-1;f>=0;--f)n.push(a[h[j[f]][2]]);for(f=+l;f<k.length-m;++f)n.push(a[h[k[f]][2]]);return n}var b=xe,c=ye;return arguments.length?d(a):(d.x=function(a){return arguments.length?(b=a,d):b},d.y=function(a){return arguments.length?(c=a,d):c},d)},b.geom.polygon=function(a){return S(a,Be),a};var Be=b.geom.polygon.prototype=[];Be.area=function(){for(var c,a=-1,b=this.length,d=this[b-1],e=0;++a<b;)c=d,d=this[a],e+=c[1]*d[0]-c[0]*d[1];return.5*e},Be.centroid=function(a){var f,h,b=-1,c=this.length,d=0,e=0,g=this[c-1];for(arguments.length||(a=-1/(6*this.area()));++b<c;)f=g,g=this[b],h=f[0]*g[1]-g[0]*f[1],d+=(f[0]+g[0])*h,e+=(f[1]+g[1])*h;return[d*a,e*a]},Be.clip=function(a){for(var b,f,g,i,j,k,c=Ee(a),d=-1,e=this.length-Ee(this),h=this[e-1];++d<e;){for(b=a.slice(),a.length=0,i=this[d],j=b[(g=b.length-c)-1],f=-1;++f<g;)k=b[f],Ce(k,h,i)?(Ce(j,h,i)||a.push(De(j,k,h,i)),a.push(k)):Ce(j,h,i)&&a.push(De(j,k,h,i)),j=k;c&&a.push(a[0]),h=i}return a};var Fe,Ge,He,Je,Ke,Ie=[],Le=[];Te.prototype.prepare=function(){for(var c,a=this.edges,b=a.length;b--;)c=a[b].edge,c.b&&c.a||a.splice(b,1);return a.sort(Ve),a.length},df.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ef.prototype={insert:function(a,b){var c,d,e;if(a){if(b.P=a,b.N=a.N,a.N&&(a.N.P=b),a.N=b,a.R){for(a=a.R;a.L;)a=a.L;a.L=b}else a.R=b;c=a}else this._?(a=jf(this._),b.P=null,b.N=a,a.P=a.L=b,c=a):(b.P=b.N=null,this._=b,c=null);for(b.L=b.R=null,b.U=c,b.C=!0,a=b;c&&c.C;)d=c.U,c===d.L?(e=d.R,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.R&&(gf(this,c),a=c,c=a.U),c.C=!1,d.C=!0,hf(this,d))):(e=d.L,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.L&&(hf(this,c),a=c,c=a.U),c.C=!1,d.C=!0,gf(this,d))),c=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P),a.P&&(a.P.N=a.N),a.N=a.P=null;var c,f,g,b=a.U,d=a.L,e=a.R;if(f=d?e?jf(e):d:e,b?b.L===a?b.L=f:b.R=f:this._=f,d&&e?(g=f.C,f.C=a.C,f.L=d,d.U=f,f!==e?(b=f.U,f.U=a.U,a=f.R,b.L=a,f.R=e,e.U=f):(f.U=b,b=f,a=f.R)):(g=a.C,a=f),a&&(a.U=b),!g){if(a&&a.C)return void(a.C=!1);do{if(a===this._)break;if(a===b.L){if(c=b.R,c.C&&(c.C=!1,b.C=!0,gf(this,b),c=b.R),c.L&&c.L.C||c.R&&c.R.C){c.R&&c.R.C||(c.L.C=!1,c.C=!0,hf(this,c),c=b.R),c.C=b.C,b.C=c.R.C=!1,gf(this,b),a=this._;break}}else if(c=b.L,c.C&&(c.C=!1,b.C=!0,hf(this,b),c=b.L),c.L&&c.L.C||c.R&&c.R.C){c.L&&c.L.C||(c.R.C=!1,c.C=!0,gf(this,c),c=b.L),c.C=b.C,b.C=c.L.C=!1,hf(this,b),a=this._;break}c.C=!0,a=b,b=b.U}while(!a.C);a&&(a.C=!1)}}},b.geom.voronoi=function(a){function g(a){var b=new Array(a.length),c=f[0][0],d=f[0][1],e=f[1][0],g=f[1][1];return kf(h(a),f).cells.forEach(function(f,h){var i=f.edges,j=f.site,k=b[h]=i.length?i.map(function(a){var b=a.start();return[b.x,b.y]}):j.x>=c&&j.x<=e&&j.y>=d&&j.y<=g?[[c,g],[e,g],[e,d],[c,d]]:[];k.point=a[h]}),b}function h(a){return a.map(function(a,b){return{x:Math.round(d(a,b)/Ba)*Ba,y:Math.round(e(a,b)/Ba)*Ba,i:b}})}var b=xe,c=ye,d=b,e=c,f=mf;return a?g(a):(g.links=function(a){return kf(h(a)).edges.filter(function(a){return a.l&&a.r}).map(function(b){return{source:a[b.l.i],target:a[b.r.i]}})},g.triangles=function(a){var b=[];return kf(h(a)).cells.forEach(function(c,d){for(var i,j,e=c.site,f=c.edges.sort(Ve),g=-1,h=f.length,k=f[h-1].edge,l=k.l===e?k.r:k.l;++g<h;)i=k,j=l,k=f[g].edge,l=k.l===e?k.r:k.l,d<j.i&&d<l.i&&nf(e,j,l)<0&&b.push([a[d],a[j.i],a[l.i]])}),b},g.x=function(a){return arguments.length?(d=yb(b=a),g):b},g.y=function(a){return arguments.length?(e=yb(c=a),g):c},g.clipExtent=function(a){return arguments.length?(f=null==a?mf:a,g):f===mf?null:f},g.size=function(a){return arguments.length?g.clipExtent(a&&[[0,0],a]):f===mf?null:f&&f[1]},g)};var mf=[[-1e6,-1e6],[1e6,1e6]];b.geom.delaunay=function(a){return b.geom.voronoi().triangles(a)},b.geom.quadtree=function(a,b,c,d,e){function i(a){function y(a,b,c,d,e,f,g,h){if(!isNaN(c)&&!isNaN(d))if(a.leaf){var i=a.x,j=a.y;if(null!=i)if(s(i-c)+s(j-d)<.01)z(a,b,c,d,e,f,g,h);else{var k=a.point;a.x=a.y=a.point=null,z(a,k,i,j,e,f,g,h),z(a,b,c,d,e,f,g,h)}else a.x=c,a.y=d,a.point=b}else z(a,b,c,d,e,f,g,h)}function z(a,b,c,d,e,f,g,h){var i=.5*(e+g),j=.5*(f+h),k=c>=i,l=d>=j,m=l<<1|k;a.leaf=!1,a=a.nodes[m]||(a.nodes[m]=qf()),k?e=i:g=i,l?f=j:h=j,y(a,b,c,d,e,f,g,h)}var i,l,m,n,o,p,q,r,t,j=yb(f),k=yb(g);if(null!=b)p=b,q=c,r=d,t=e;else if(r=t=-(p=q=1/0),l=[],m=[],o=a.length,h)for(n=0;n<o;++n)i=a[n],i.x<p&&(p=i.x),i.y<q&&(q=i.y),i.x>r&&(r=i.x),i.y>t&&(t=i.y),l.push(i.x),m.push(i.y);else for(n=0;n<o;++n){var u=+j(i=a[n],n),v=+k(i,n);u<p&&(p=u),v<q&&(q=v),u>r&&(r=u),v>t&&(t=v),l.push(u),m.push(v)}var w=r-p,x=t-q;w>x?t=q+w:r=p+x;var A=qf();if(A.add=function(a){y(A,a,+j(a,++n),+k(a,n),p,q,r,t)},A.visit=function(a){rf(a,A,p,q,r,t)},A.find=function(a){return sf(A,a[0],a[1],p,q,r,t)},n=-1,null==b){for(;++n<o;)y(A,a[n],l[n],m[n],p,q,r,t);--n}else a.forEach(A.add);return l=m=a=i=null,A}var h,f=xe,g=ye;return(h=arguments.length)?(f=of,g=pf,3===h&&(e=c,d=b,c=b=0),i(a)):(i.x=function(a){return arguments.length?(f=a,i):f},i.y=function(a){return arguments.length?(g=a,i):g},i.extent=function(a){return arguments.length?(null==a?b=c=d=e=null:(b=+a[0][0],c=+a[0][1],d=+a[1][0],e=+a[1][1]),i):null==b?null:[[b,c],[d,e]]},i.size=function(a){return arguments.length?(null==a?b=c=d=e=null:(b=c=0,d=+a[0],e=+a[1]),i):null==b?null:[d-b,e-c]},i)},b.interpolateRgb=tf,b.interpolateObject=uf,b.interpolateNumber=vf,b.interpolateString=wf;var xf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yf=new RegExp(xf.source,"g");b.interpolate=zf,b.interpolators=[function(a,b){var c=typeof b;return("string"===c?xb.has(b.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(b)?tf:wf:b instanceof Xa?tf:Array.isArray(b)?Af:"object"===c&&isNaN(b)?uf:vf)(a,b)}],b.interpolateArray=Af;var Bf=function(){return H},Cf=b.map({linear:Bf,poly:Kf,quad:function(){return Hf},cubic:function(){return If},sin:function(){return Lf},exp:function(){return Mf},circle:function(){return Nf},elastic:Of,back:Pf,bounce:function(){return Qf}}),Df=b.map({in:H,out:Ff,"in-out":Gf,"out-in":function(a){return Gf(Ff(a))}});b.ease=function(a){var b=a.indexOf("-"),d=b>=0?a.slice(0,b):a,e=b>=0?a.slice(b+1):"in";return d=Cf.get(d)||Bf,e=Df.get(e)||H,Ef(e(d.apply(null,c.call(arguments,1))))},b.interpolateHcl=Rf,b.interpolateHsl=Sf,b.interpolateLab=Tf,b.interpolateRound=Uf,b.transform=function(a){var c=e.createElementNS(b.ns.prefix.svg,"g");return(b.transform=function(a){if(null!=a){c.setAttribute("transform",a);var b=c.transform.baseVal.consolidate()}return new Vf(b?b.matrix:Zf)})(a)},Vf.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Zf={a:1,b:0,c:0,d:1,e:0,f:0};b.interpolateTransform=dg,b.layout={},b.layout.bundle=function(){return function(a){for(var b=[],c=-1,d=a.length;++c<d;)b.push(gg(a[c]));return b}},b.layout.chord=function(){function m(){var q,r,s,t,u,c={},m=[],o=b.range(g),p=[];for(d=[],e=[],t=-1;++t<g;){for(r=0,u=-1;++u<g;)r+=f[t][u];m.push(r),p.push(b.range(g))}for(q=0,l.forEach(function(a){q+=parseInt(a)}),i&&o.sort(function(a,b){return i(m[a],m[b])}),j&&p.forEach(function(a,b){a.sort(function(a,c){return j(f[b][a],f[b][c])})}),q=(Ea-h*g)/q,r=0,t=-1;++t<g;)s=r,r+=l[t]*q,e[t]={index:t,startAngle:s,endAngle:r,value:l[t]},r+=h;for(r=0,di=-1;++di<g;)for(startAngle=e[di].startAngle,endAngle=e[di].endAngle,angleRange=endAngle-startAngle,0==m[di]?a=angleRange:a=angleRange/m[di],xi=startAngle,u=-1;++u<g;)dj=p[di][u],v=a*f[di][dj],xj=xi+v,c[di+"-"+dj]={index:di,subindex:dj,startAngle:xi,endAngle:xj,value:v},xi+=v;for(t=-1;++t<g;)for(u=t-1;++u<g;){var w=c[t+"-"+u],x=c[u+"-"+t];(w.value||x.value)&&d.push(w.value<x.value?{source:x,target:w}:{source:w,target:x})}k&&n()}function n(){d.sort(function(a,b){return k((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var d,e,f,g,i,j,k,l,c={},h=0;return c.matrix=function(a){return arguments.length?(g=(f=a)&&f.length,d=e=null,c):f},c.groupSize=function(a){return arguments.length?(l=a,d=e=null,c):l},c.padding=function(a){return arguments.length?(h=a,d=e=null,c):h},c.sortGroups=function(a){return arguments.length?(i=a,d=e=null,c):i},c.sortSubgroups=function(a){return arguments.length?(j=a,d=null,c):j},c.sortChords=function(a){return arguments.length?(k=a,d&&n(),c):k},c.chords=function(){return d||m(),d},c.groups=function(){return e||m(),e},c},b.layout.force=function(){function t(a){return function(b,c,d,e){if(b.point!==a){var f=b.cx-a.x,g=b.cy-a.y,h=e-c,i=f*f+g*g;if(h*h/n<i){if(i<l){var j=b.charge/i;a.px-=f*j,a.py-=g*j}return!0}if(b.point&&i&&i<l){var j=b.pointCharge/i;a.px-=f*j,a.py-=g*j}}return!b.charge}}function u(c){c.px=b.event.x,c.py=b.event.y,a.resume()}var d,f,g,q,r,s,a={},c=b.dispatch("start","tick","end"),e=[1,1],h=.9,i=og,j=pg,k=-30,l=qg,m=.1,n=.64,o=[],p=[];return a.tick=function(){if((g*=.99)<.005)return d=null,c.end({type:"end",alpha:g=0}),!0;var i,j,l,n,u,v,w,x,y,a=o.length,f=p.length;for(j=0;j<f;++j)l=p[j],n=l.source,u=l.target,x=u.x-n.x,y=u.y-n.y,(v=x*x+y*y)&&(v=g*r[j]*((v=Math.sqrt(v))-q[j])/v,x*=v,y*=v,u.x-=x*(w=n.weight+u.weight?n.weight/(n.weight+u.weight):.5),u.y-=y*w,n.x+=x*(w=1-w),n.y+=y*w);if((w=g*m)&&(x=e[0]/2,y=e[1]/2,j=-1,w))for(;++j<a;)l=o[j],l.x+=(x-l.x)*w,l.y+=(y-l.y)*w;if(k)for(ng(i=b.geom.quadtree(o),g,s),j=-1;++j<a;)(l=o[j]).fixed||i.visit(t(l));for(j=-1;++j<a;)l=o[j],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*h,l.y-=(l.py-(l.py=l.y))*h);c.tick({type:"tick",alpha:g})},a.nodes=function(b){return arguments.length?(o=b,a):o},a.links=function(b){return arguments.length?(p=b,a):p},a.size=function(b){return arguments.length?(e=b,a):e},a.linkDistance=function(b){return arguments.length?(i="function"==typeof b?b:+b,a):i},a.distance=a.linkDistance,a.linkStrength=function(b){return arguments.length?(j="function"==typeof b?b:+b,a):j},a.friction=function(b){return arguments.length?(h=+b,a):h},a.charge=function(b){return arguments.length?(k="function"==typeof b?b:+b,a):k},a.chargeDistance=function(b){return arguments.length?(l=b*b,a):Math.sqrt(l)},a.gravity=function(b){return arguments.length?(m=+b,a):m},a.theta=function(b){return arguments.length?(n=b*b,a):Math.sqrt(n)},a.alpha=function(b){return arguments.length?(b=+b,g?b>0?g=b:(d.c=null,d.t=NaN,d=null,c.end({type:"end",alpha:g=0})):b>0&&(c.start({type:"start",alpha:g=b}),d=Ib(a.tick)),a):g},a.start=function(){function m(a,e){if(!h){for(h=new Array(c),i=0;i<c;++i)h[i]=[];for(i=0;i<d;++i){var f=p[i];h[f.source.index].push(f.target),h[f.target.index].push(f.source)}}for(var k,g=h[b],i=-1,j=g.length;++i<j;)if(!isNaN(k=g[i][a]))return k;return Math.random()*e}var b,h,l,c=o.length,d=p.length,f=e[0],g=e[1];for(b=0;b<c;++b)(l=o[b]).index=b,l.weight=0;for(b=0;b<d;++b)l=p[b],"number"==typeof l.source&&(l.source=o[l.source]),"number"==typeof l.target&&(l.target=o[l.target]),++l.source.weight,++l.target.weight;for(b=0;b<c;++b)l=o[b],isNaN(l.x)&&(l.x=m("x",f)),isNaN(l.y)&&(l.y=m("y",g)),isNaN(l.px)&&(l.px=l.x),isNaN(l.py)&&(l.py=l.y);if(q=[],"function"==typeof i)for(b=0;b<d;++b)q[b]=+i.call(this,p[b],b);else for(b=0;b<d;++b)q[b]=i;if(r=[],"function"==typeof j)for(b=0;b<d;++b)r[b]=+j.call(this,p[b],b);else for(b=0;b<d;++b)r[b]=j;if(s=[],"function"==typeof k)for(b=0;b<c;++b)s[b]=+k.call(this,o[b],b);else for(b=0;b<c;++b)s[b]=k;return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){return f||(f=b.behavior.drag().origin(H).on("dragstart.force",jg).on("drag.force",u).on("dragend.force",kg)),arguments.length?void this.on("mouseover.force",lg).on("mouseout.force",mg).call(f):f},b.rebind(a,c,"on")};var og=20,pg=1,qg=1/0;b.layout.hierarchy=function(){function d(e){var h,f=[e],g=[];for(e.depth=0;null!=(h=f.pop());)if(g.push(h),(j=b.call(d,h,h.depth))&&(i=j.length)){for(var i,j,k;--i>=0;)f.push(k=j[i]),k.parent=h,k.depth=h.depth+1;c&&(h.value=0),h.children=j}else c&&(h.value=+c.call(d,h,h.depth)||0),delete h.children;return tg(e,function(b){var d,e;a&&(d=b.children)&&d.sort(a),c&&(e=b.parent)&&(e.value+=b.value)}),g}var a=wg,b=ug,c=vg;return d.sort=function(b){return arguments.length?(a=b,d):a},d.children=function(a){return arguments.length?(b=a,d):b},d.value=function(a){return arguments.length?(c=a,d):c},d.revalue=function(a){return c&&(sg(a,function(a){a.children&&(a.value=0)}),tg(a,function(a){var b;a.children||(a.value=+c.call(d,a,a.depth)||0),(b=a.parent)&&(b.value+=a.value)})),a},d},b.layout.partition=function(){function d(a,b,c,e){var f=a.children;if(a.x=b,a.y=a.depth*e,a.dx=c,a.dy=e,f&&(h=f.length)){var h,i,j,g=-1;for(c=a.value?c/a.value:0;++g<h;)d(i=f[g],b,j=i.value*c,e),b+=j}}function e(a){var b=a.children,c=0;if(b&&(f=b.length))for(var f,d=-1;++d<f;)c=Math.max(c,e(b[d]));return 1+c}function f(b,f){var g=a.call(this,b,f);return d(g[0],0,c[0],c[1]/e(g[0])),g}var a=b.layout.hierarchy(),c=[1,1];return f.size=function(a){return arguments.length?(c=a,f):c},rg(f,a)},b.layout.pie=function(){function g(h){var s,i=h.length,j=h.map(function(b,c){return+a.call(g,b,c)}),k=+("function"==typeof d?d.apply(this,arguments):d),l=("function"==typeof e?e.apply(this,arguments):e)-k,m=Math.min(Math.abs(l)/i,+("function"==typeof f?f.apply(this,arguments):f)),n=m*(l<0?-1:1),o=b.sum(j),p=o?(l-i*n)/o:0,q=b.range(i),r=[];return null!=c&&q.sort(c===yg?function(a,b){return j[b]-j[a]}:function(a,b){return c(h[a],h[b])}),q.forEach(function(a){r[a]={data:h[a],value:s=j[a],startAngle:k,endAngle:k+=s*p+n,padAngle:m}}),r}var a=Number,c=yg,d=0,e=Ea,f=0;return g.value=function(b){return arguments.length?(a=b,g):a},g.sort=function(a){return arguments.length?(c=a,g):c},g.startAngle=function(a){return arguments.length?(d=a,g):d},g.endAngle=function(a){return arguments.length?(e=a,g):e},g.padAngle=function(a){return arguments.length?(f=a,g):f},g};var yg={};b.layout.stack=function(){function h(i,j){if(!(p=i.length))return i;var k=i.map(function(b,c){return a.call(h,b,c)}),l=k.map(function(a){return a.map(function(a,b){return[f.call(h,a,b),g.call(h,a,b)]})}),m=c.call(h,l,j);k=b.permute(k,m),l=b.permute(l,m);var p,q,r,s,n=d.call(h,l,j),o=k[0].length;for(r=0;r<o;++r)for(e.call(h,k[0][r],s=n[r],l[0][r][1]),q=1;q<p;++q)e.call(h,k[q][r],s+=l[q-1][r][1],l[q][r][1]);return i}var a=H,c=Eg,d=Fg,e=Bg,f=zg,g=Ag;return h.values=function(b){return arguments.length?(a=b,h):a},h.order=function(a){return arguments.length?(c="function"==typeof a?a:Cg.get(a)||Eg,h):c},h.offset=function(a){return arguments.length?(d="function"==typeof a?a:Dg.get(a)||Fg,h):d},h.x=function(a){return arguments.length?(f=a,h):f},h.y=function(a){return arguments.length?(g=a,h):g},h.out=function(a){return arguments.length?(e=a,h):e},h};var Cg=b.map({"inside-out":function(a){var d,e,c=a.length,f=a.map(Gg),g=a.map(Hg),h=b.range(c).sort(function(a,b){return f[a]-f[b]}),i=0,j=0,k=[],l=[];for(d=0;d<c;++d)e=h[d],i<j?(i+=g[e],k.push(e)):(j+=g[e],l.push(e));return l.reverse().concat(k)},reverse:function(a){return b.range(a.length).reverse()},default:Eg}),Dg=b.map({silhouette:function(a){var f,g,h,b=a.length,c=a[0].length,d=[],e=0,i=[];for(g=0;g<c;++g){for(f=0,h=0;f<b;f++)h+=a[f][g][1];h>e&&(e=h),d.push(h)}for(g=0;g<c;++g)i[g]=(e-d[g])/2;return i},wiggle:function(a){var e,f,g,h,i,j,k,l,m,b=a.length,c=a[0],d=c.length,n=[];for(n[0]=l=m=0,f=1;f<d;++f){for(e=0,h=0;e<b;++e)h+=a[e][f][1];for(e=0,i=0,k=c[f][0]-c[f-1][0];e<b;++e){for(g=0,j=(a[e][f][1]-a[e][f-1][1])/(2*k);g<e;++g)j+=(a[g][f][1]-a[g][f-1][1])/k;i+=j*a[e][f][1]}n[f]=l-=h?i/h*k:0,l<m&&(m=l)}for(f=0;f<d;++f)n[f]-=m;return n},expand:function(a){var e,f,g,b=a.length,c=a[0].length,d=1/b,h=[];for(f=0;f<c;++f){for(e=0,g=0;e<b;e++)g+=a[e][f][1];if(g)for(e=0;e<b;e++)a[e][f][1]/=g;else for(e=0;e<b;e++)a[e][f][1]=d}for(f=0;f<c;++f)h[f]=0;return h},zero:Fg});b.layout.histogram=function(){function f(f,g){for(var l,p,h=[],i=f.map(c,this),j=d.call(this,i,g),k=e.call(this,j,i,g),g=-1,m=i.length,n=k.length-1,o=a?1:1/m;++g<n;)l=h[g]=[],l.dx=k[g+1]-(l.x=k[g]),l.y=0;if(n>0)for(g=-1;++g<m;)p=i[g],p>=j[0]&&p<=j[1]&&(l=h[b.bisect(k,p,1,n)-1],l.y+=o,l.push(f[g]));return h}var a=!0,c=Number,d=Lg,e=Jg;return f.value=function(a){return arguments.length?(c=a,f):c},f.range=function(a){return arguments.length?(d=yb(a),f):d},f.bins=function(a){return arguments.length?(e="number"==typeof a?function(b){return Kg(b,a)}:yb(a),f):e},f.frequency=function(b){return arguments.length?(a=!!b,f):a},f},b.layout.pack=function(){function f(b,f){var g=a.call(this,b,f),h=g[0],i=d[0],j=d[1],k=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(h.x=h.y=0,tg(h,function(a){a.r=+k(a.value)}),tg(h,Qg),c){var l=c*(e?1:Math.max(2*h.r/i,2*h.r/j))/2;tg(h,function(a){a.r+=l}),tg(h,Qg),tg(h,function(a){a.r-=l})}return Tg(h,i/2,j/2,e?1:1/Math.max(2*h.r/i,2*h.r/j)),g}var e,a=b.layout.hierarchy().sort(Mg),c=0,d=[1,1];return f.size=function(a){return arguments.length?(d=a,f):d},f.radius=function(a){return arguments.length?(e=null==a||"function"==typeof a?a:+a,f):e},f.padding=function(a){return arguments.length?(c=+a,f):c},rg(f,a)},b.layout.tree=function(){function f(b,f){var j=a.call(this,b,f),l=j[0],m=g(l);if(tg(m,h),m.parent.m=-m.z,sg(m,i),e)sg(l,k);else{var n=l,o=l,p=l;sg(l,function(a){a.x<n.x&&(n=a),a.x>o.x&&(o=a),a.depth>p.depth&&(p=a)});var q=c(n,o)/2-n.x,r=d[0]/(o.x+c(o,n)/2+q),s=d[1]/(p.depth||1);sg(l,function(a){a.x=(a.x+q)*r,a.y=a.depth*s})}return j}function g(a){for(var d,b={A:null,children:[a]},c=[b];null!=(d=c.pop());)for(var f,e=d.children,g=0,h=e.length;g<h;++g)c.push((e[g]=f={_:e[g],parent:d,children:(f=e[g].children)&&f.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:g}).a=f);return b.children[0]}function h(a){var b=a.children,d=a.parent.children,e=a.i?d[a.i-1]:null;if(b.length){Zg(a);var f=(b[0].z+b[b.length-1].z)/2;e?(a.z=e.z+c(a._,e._),a.m=a.z-f):a.z=f}else e&&(a.z=e.z+c(a._,e._));a.parent.A=j(a,e,a.parent.A||d[0])}function i(a){a._.x=a.z+a.parent.m,a.m+=a.parent.m}function j(a,b,d){if(b){for(var m,e=a,f=a,g=b,h=e.parent.children[0],i=e.m,j=f.m,k=g.m,l=h.m;g=Xg(g),e=Wg(e),g&&e;)h=Wg(h),f=Xg(f),f.a=a,m=g.z+k-e.z-i+c(g._,e._),m>0&&(Yg($g(g,a,d),a,m),i+=m,j+=m),k+=g.m,i+=e.m,l+=h.m,j+=f.m;g&&!Xg(f)&&(f.t=g,f.m+=k-j),e&&!Wg(h)&&(h.t=e,h.m+=i-l,d=a)}return d}function k(a){a.x*=d[0],a.y=a.depth*d[1]}var a=b.layout.hierarchy().sort(null).value(null),c=Vg,d=[1,1],e=null;return f.separation=function(a){return arguments.length?(c=a,f):c},f.size=function(a){return arguments.length?(e=null==(d=a)?k:null,f):e?null:d},f.nodeSize=function(a){return arguments.length?(e=null==(d=a)?null:k,f):e?d:null},rg(f,a)},b.layout.cluster=function(){function f(b,f){var i,g=a.call(this,b,f),h=g[0],j=0;tg(h,function(a){var b=a.children;b&&b.length?(a.x=ah(b),a.y=_g(b)):(a.x=i?j+=c(a,i):0,a.y=0,i=a)});var k=bh(h),l=ch(h),m=k.x-c(k,l)/2,n=l.x+c(l,k)/2;return tg(h,e?function(a){a.x=(a.x-h.x)*d[0],a.y=(h.y-a.y)*d[1]}:function(a){a.x=(a.x-m)/(n-m)*d[0],a.y=(1-(h.y?a.y/h.y:1))*d[1]}),g}var a=b.layout.hierarchy().sort(null).value(null),c=Vg,d=[1,1],e=!1;return f.separation=function(a){return arguments.length?(c=a,f):c},f.size=function(a){return arguments.length?(e=null==(d=a),f):e?null:d},f.nodeSize=function(a){return arguments.length?(e=null!=(d=a),f):e?d:null},rg(f,a)},b.layout.treemap=function(){function k(a,b){for(var e,f,c=-1,d=a.length;++c<d;)f=(e=a[c]).value*(b<0?0:b),e.area=isNaN(f)||f<=0?0:f}function l(a){var b=a.children;if(b&&b.length){var g,j,p,c=f(a),d=[],e=b.slice(),h=1/0,m="slice"===i?c.dx:"dice"===i?c.dy:"slice-dice"===i?1&a.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(k(e,c.dx*c.dy/a.value),d.area=0;(p=e.length)>0;)d.push(g=e[p-1]),d.area+=g.area,"squarify"!==i||(j=n(d,m))<=h?(e.pop(),h=j):(d.area-=d.pop().area,o(d,m,c,!1),m=Math.min(c.dx,c.dy),d.length=d.area=0,h=1/0);d.length&&(o(d,m,c,!0),d.length=d.area=0),b.forEach(l)}}function m(a){var b=a.children;if(b&&b.length){var e,c=f(a),d=b.slice(),g=[];for(k(d,c.dx*c.dy/a.value),g.area=0;e=d.pop();)g.push(e),g.area+=e.area,null!=e.z&&(o(g,e.z?c.dx:c.dy,c,!d.length),g.length=g.area=0);b.forEach(m)}}function n(a,b){for(var d,c=a.area,e=0,f=1/0,g=-1,h=a.length;++g<h;)(d=a[g].area)&&(d<f&&(f=d),d>e&&(e=d));return c*=c,b*=b,c?Math.max(b*e*j/c,c/(b*f*j)):1/0}function o(a,b,d,e){var k,f=-1,g=a.length,h=d.x,i=d.y,j=b?c(a.area/b):0;
if(b==d.dx){for((e||j>d.dy)&&(j=d.dy);++f<g;)k=a[f],k.x=h,k.y=i,k.dy=j,h+=k.dx=Math.min(d.x+d.dx-h,j?c(k.area/j):0);k.z=!0,k.dx+=d.x+d.dx-h,d.y+=j,d.dy-=j}else{for((e||j>d.dx)&&(j=d.dx);++f<g;)k=a[f],k.x=h,k.y=i,k.dx=j,i+=k.dy=Math.min(d.y+d.dy-i,j?c(k.area/j):0);k.z=!1,k.dy+=d.y+d.dy-i,d.x+=j,d.dx-=j}}function p(b){var c=h||a(b),e=c[0];return e.x=e.y=0,e.value?(e.dx=d[0],e.dy=d[1]):e.dx=e.dy=0,h&&a.revalue(e),k([e],e.dx*e.dy/e.value),(h?m:l)(e),g&&(h=c),c}var h,a=b.layout.hierarchy(),c=Math.round,d=[1,1],e=null,f=dh,g=!1,i="squarify",j=.5*(1+Math.sqrt(5));return p.size=function(a){return arguments.length?(d=a,p):d},p.padding=function(a){function b(b){var c=a.call(p,b,b.depth);return null==c?dh(b):eh(b,"number"==typeof c?[c,c,c,c]:c)}function c(b){return eh(b,a)}if(!arguments.length)return e;var d;return f=null==(e=a)?dh:"function"==(d=typeof a)?b:"number"===d?(a=[a,a,a,a],c):c,p},p.round=function(a){return arguments.length?(c=a?Math.round:Number,p):c!=Number},p.sticky=function(a){return arguments.length?(g=a,h=null,p):g},p.ratio=function(a){return arguments.length?(j=a,p):j},p.mode=function(a){return arguments.length?(i=a+"",p):i},rg(p,a)},b.random={normal:function(a,b){var c=arguments.length;return c<2&&(b=1),c<1&&(a=0),function(){var c,d,e;do c=2*Math.random()-1,d=2*Math.random()-1,e=c*c+d*d;while(!e||e>1);return a+b*c*Math.sqrt(-2*Math.log(e)/e)}},logNormal:function(){var a=b.random.normal.apply(b,arguments);return function(){return Math.exp(a())}},bates:function(a){var c=b.random.irwinHall(a);return function(){return c()/a}},irwinHall:function(a){return function(){for(var b=0,c=0;c<a;c++)b+=Math.random();return b}}},b.scale={};var kh={floor:H,ceil:H};b.scale.linear=function(){return mh([0,1],[0,1],zf,!1)};var sh={s:1,g:1,p:1,r:1,e:1};b.scale.log=function(){return vh(b.scale.linear().domain([0,1]),10,!0,[1,10])};var wh=b.format(".0e"),xh={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};b.scale.pow=function(){return yh(b.scale.linear(),1,[0,1])},b.scale.sqrt=function(){return b.scale.pow().exponent(.5)},b.scale.ordinal=function(){return Ah([],{t:"range",a:[[]]})},b.scale.category10=function(){return b.scale.ordinal().range(Bh)},b.scale.category20=function(){return b.scale.ordinal().range(Ch)},b.scale.category20b=function(){return b.scale.ordinal().range(Dh)},b.scale.category20c=function(){return b.scale.ordinal().range(Eh)};var Bh=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(pb),Ch=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(pb),Dh=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(pb),Eh=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(pb);b.scale.quantile=function(){return Fh([],[])},b.scale.quantize=function(){return Gh(0,1,[0,1])},b.scale.threshold=function(){return Hh([.5],[0,1])},b.scale.identity=function(){return Ih([0,1])},b.svg={},b.svg.arc=function(){function h(){var h=Math.max(0,+a.apply(this,arguments)),j=Math.max(0,+b.apply(this,arguments)),k=e.apply(this,arguments)-Ga,l=f.apply(this,arguments)-Ga,m=Math.abs(l-k),n=k>l?0:1;if(j<h&&(o=j,j=h,h=o),m>=Fa)return i(j,n)+(h?i(h,1-n):"")+"Z";var o,p,q,r,u,v,w,x,y,z,A,B,s=0,t=0,C=[];if((r=(+g.apply(this,arguments)||0)/2)&&(q=d===Kh?Math.sqrt(h*h+j*j):+d.apply(this,arguments),n||(t*=-1),j&&(t=Ma(q/j*Math.sin(r))),h&&(s=Ma(q/h*Math.sin(r)))),j){u=j*Math.cos(k+t),v=j*Math.sin(k+t),w=j*Math.cos(l-t),x=j*Math.sin(l-t);var D=Math.abs(l-k-2*t)<=Da?0:1;if(t&&Qh(u,v,w,x)===n^D){var E=(k+l)/2;u=j*Math.cos(E),v=j*Math.sin(E),w=x=null}}else u=v=0;if(h){y=h*Math.cos(l-s),z=h*Math.sin(l-s),A=h*Math.cos(k+s),B=h*Math.sin(k+s);var F=Math.abs(k-l+2*s)<=Da?0:1;if(s&&Qh(y,z,A,B)===1-n^F){var G=(k+l)/2;y=h*Math.cos(G),z=h*Math.sin(G),A=B=null}}else y=z=0;if(m>Ba&&(o=Math.min(Math.abs(j-h)/2,+c.apply(this,arguments)))>.001){p=h<j^n?0:1;var H=o,I=o;if(m<Da){var J=null==A?[y,z]:null==w?[u,v]:De([u,v],[A,B],[w,x],[y,z]),K=u-J[0],L=v-J[1],M=w-J[0],N=x-J[1],O=1/Math.sin(Math.acos((K*M+L*N)/(Math.sqrt(K*K+L*L)*Math.sqrt(M*M+N*N)))/2),P=Math.sqrt(J[0]*J[0]+J[1]*J[1]);I=Math.min(o,(h-P)/(O-1)),H=Math.min(o,(j-P)/(O+1))}if(null!=w){var Q=Rh(null==A?[y,z]:[A,B],[u,v],j,H,n),R=Rh([w,x],[y,z],j,H,n);o===H?C.push("M",Q[0],"A",H,",",H," 0 0,",p," ",Q[1],"A",j,",",j," 0 ",1-n^Qh(Q[1][0],Q[1][1],R[1][0],R[1][1]),",",n," ",R[1],"A",H,",",H," 0 0,",p," ",R[0]):C.push("M",Q[0],"A",H,",",H," 0 1,",p," ",R[0])}else C.push("M",u,",",v);if(null!=A){var S=Rh([u,v],[A,B],h,-I,n),T=Rh([y,z],null==w?[u,v]:[w,x],h,-I,n);o===I?C.push("L",T[0],"A",I,",",I," 0 0,",p," ",T[1],"A",h,",",h," 0 ",n^Qh(T[1][0],T[1][1],S[1][0],S[1][1]),",",1-n," ",S[1],"A",I,",",I," 0 0,",p," ",S[0]):C.push("L",T[0],"A",I,",",I," 0 0,",p," ",S[0])}else C.push("L",y,",",z)}else C.push("M",u,",",v),null!=w&&C.push("A",j,",",j," 0 ",D,",",n," ",w,",",x),C.push("L",y,",",z),null!=A&&C.push("A",h,",",h," 0 ",F,",",1-n," ",A,",",B);return C.push("Z"),C.join("")}function i(a,b){return"M0,"+a+"A"+a+","+a+" 0 1,"+b+" 0,"+-a+"A"+a+","+a+" 0 1,"+b+" 0,"+a}var a=Lh,b=Mh,c=Jh,d=Kh,e=Nh,f=Oh,g=Ph;return h.innerRadius=function(b){return arguments.length?(a=yb(b),h):a},h.outerRadius=function(a){return arguments.length?(b=yb(a),h):b},h.cornerRadius=function(a){return arguments.length?(c=yb(a),h):c},h.padRadius=function(a){return arguments.length?(d=a==Kh?Kh:yb(a),h):d},h.startAngle=function(a){return arguments.length?(e=yb(a),h):e},h.endAngle=function(a){return arguments.length?(f=yb(a),h):f},h.padAngle=function(a){return arguments.length?(g=yb(a),h):g},h.centroid=function(){var c=(+a.apply(this,arguments)+ +b.apply(this,arguments))/2,d=(+e.apply(this,arguments)+ +f.apply(this,arguments))/2-Ga;return[Math.cos(d)*c,Math.sin(d)*c]},h};var Kh="auto";b.svg.line=function(){return Sh(H)};var Th=b.map({linear:Uh,"linear-closed":Vh,step:Wh,"step-before":Xh,"step-after":Yh,basis:ci,"basis-open":ei,"basis-closed":fi,bundle:gi,cardinal:_h,"cardinal-open":Zh,"cardinal-closed":$h,monotone:pi});Th.forEach(function(a,b){b.key=a,b.closed=/-closed$/.test(a)});var ii=[0,2/3,1/3,0],ji=[0,1/3,2/3,0],ki=[0,1/6,2/3,1/6];b.svg.line.radial=function(){var a=Sh(qi);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a},Xh.reverse=Yh,Yh.reverse=Xh,b.svg.area=function(){return ri(H)},b.svg.area.radial=function(){var a=ri(qi);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a},b.svg.chord=function(){function f(c,d){var e=g(this,a,c,d),f=g(this,b,c,d);return"M"+e.p0+i(e.r,e.p1,e.a1-e.a0)+(h(e,f)?j(e.r,e.p1,e.r,e.p0):j(e.r,e.p1,f.r,f.p0)+i(f.r,f.p1,f.a1-f.a0)+j(f.r,f.p1,e.r,e.p0))+"Z"}function g(a,b,f,g){var h=b.call(a,f,g),i=c.call(a,h,g),j=d.call(a,h,g)-Ga,k=e.call(a,h,g)-Ga;return{r:i,a0:j,a1:k,p0:[i*Math.cos(j),i*Math.sin(j)],p1:[i*Math.cos(k),i*Math.sin(k)]}}function h(a,b){return a.a0==b.a0&&a.a1==b.a1}function i(a,b,c){return"A"+a+","+a+" 0 "+ +(c>Da)+",1 "+b}function j(a,b,c,d){return"Q 0,0 "+d}var a=ge,b=he,c=si,d=Nh,e=Oh;return f.radius=function(a){return arguments.length?(c=yb(a),f):c},f.source=function(b){return arguments.length?(a=yb(b),f):a},f.target=function(a){return arguments.length?(b=yb(a),f):b},f.startAngle=function(a){return arguments.length?(d=yb(a),f):d},f.endAngle=function(a){return arguments.length?(e=yb(a),f):e},f},b.svg.diagonal=function(){function d(d,e){var f=a.call(this,d,e),g=b.call(this,d,e),h=(f.y+g.y)/2,i=[f,{x:f.x,y:h},{x:g.x,y:h},g];return i=i.map(c),"M"+i[0]+"C"+i[1]+" "+i[2]+" "+i[3]}var a=ge,b=he,c=ti;return d.source=function(b){return arguments.length?(a=yb(b),d):a},d.target=function(a){return arguments.length?(b=yb(a),d):b},d.projection=function(a){return arguments.length?(c=a,d):c},d},b.svg.diagonal.radial=function(){var a=b.svg.diagonal(),c=ti,d=a.projection;return a.projection=function(a){return arguments.length?d(ui(c=a)):c},a},b.svg.symbol=function(){function c(c,d){return(zi.get(a.call(this,c,d))||yi)(b.call(this,c,d))}var a=wi,b=vi;return c.type=function(b){return arguments.length?(a=yb(b),c):a},c.size=function(a){return arguments.length?(b=yb(a),c):b},c};var zi=b.map({circle:yi,cross:function(a){var b=Math.sqrt(a/5)/2;return"M"+-3*b+","+-b+"H"+-b+"V"+-3*b+"H"+b+"V"+-b+"H"+3*b+"V"+b+"H"+b+"V"+3*b+"H"+-b+"V"+b+"H"+-3*b+"Z"},diamond:function(a){var b=Math.sqrt(a/(2*Bi)),c=b*Bi;return"M0,"+-b+"L"+c+",0 0,"+b+" "+-c+",0Z"},square:function(a){var b=Math.sqrt(a)/2;return"M"+-b+","+-b+"L"+b+","+-b+" "+b+","+b+" "+-b+","+b+"Z"},"triangle-down":function(a){var b=Math.sqrt(a/Ai),c=b*Ai/2;return"M0,"+c+"L"+b+","+-c+" "+-b+","+-c+"Z"},"triangle-up":function(a){var b=Math.sqrt(a/Ai),c=b*Ai/2;return"M0,"+-c+"L"+b+","+c+" "+-b+","+c+"Z"}});b.svg.symbolTypes=zi.keys();var Ai=Math.sqrt(3),Bi=Math.tan(30*Ha);X.transition=function(a){for(var e,f,b=Hi||++Gi,c=Li(a),d=[],g=Ii||{time:Date.now(),ease:Jf,delay:0,duration:250},h=-1,i=this.length;++h<i;){d.push(e=[]);for(var j=this[h],k=-1,l=j.length;++k<l;)(f=j[k])&&Mi(f,k,c,b,g),e.push(f)}return Ei(d,c,b)},X.interrupt=function(a){return this.each(null==a?Ci:Di(Li(a)))};var Hi,Ii,Ci=Di(Li()),Fi=[],Gi=0;Fi.call=X.call,Fi.empty=X.empty,Fi.node=X.node,Fi.size=X.size,b.transition=function(a,c){return a&&a.transition?Hi?a.transition(c):a:b.selection().transition(a)},b.transition.prototype=Fi,Fi.select=function(a){var e,f,g,b=this.id,c=this.namespace,d=[];a=Y(a);for(var h=-1,i=this.length;++h<i;){d.push(e=[]);for(var j=this[h],k=-1,l=j.length;++k<l;)(g=j[k])&&(f=a.call(g,g.__data__,k,h))?("__data__"in g&&(f.__data__=g.__data__),Mi(f,k,c,b,g[c][b]),e.push(f)):e.push(null)}return Ei(d,c,b)},Fi.selectAll=function(a){var e,f,g,h,i,b=this.id,c=this.namespace,d=[];a=Z(a);for(var j=-1,k=this.length;++j<k;)for(var l=this[j],m=-1,n=l.length;++m<n;)if(g=l[m]){i=g[c][b],f=a.call(g,g.__data__,m,j),d.push(e=[]);for(var o=-1,p=f.length;++o<p;)(h=f[o])&&Mi(h,o,c,b,i),e.push(h)}return Ei(d,c,b)},Fi.filter=function(a){var c,d,e,b=[];"function"!=typeof a&&(a=la(a));for(var f=0,g=this.length;f<g;f++){b.push(c=[]);for(var d=this[f],h=0,i=d.length;h<i;h++)(e=d[h])&&a.call(e,e.__data__,h,f)&&c.push(e)}return Ei(b,this.namespace,this.id)},Fi.tween=function(a,b){var c=this.id,d=this.namespace;return arguments.length<2?this.node()[d][c].tween.get(a):na(this,null==b?function(b){b[d][c].tween.remove(a)}:function(e){e[d][c].tween.set(a,b)})},Fi.attr=function(a,c){function f(){this.removeAttribute(e)}function g(){this.removeAttributeNS(e.space,e.local)}function h(a){return null==a?f:(a+="",function(){var c,b=this.getAttribute(e);return b!==a&&(c=d(b,a),function(a){this.setAttribute(e,c(a))})})}function i(a){return null==a?g:(a+="",function(){var c,b=this.getAttributeNS(e.space,e.local);return b!==a&&(c=d(b,a),function(a){this.setAttributeNS(e.space,e.local,c(a))})})}if(arguments.length<2){for(c in a)this.attr(c,a[c]);return this}var d="transform"==a?dg:zf,e=b.ns.qualify(a);return Ji(this,"attr."+a,c,e.local?i:h)},Fi.attrTween=function(a,c){function e(a,b){var e=c.call(this,a,b,this.getAttribute(d));return e&&function(a){this.setAttribute(d,e(a))}}function f(a,b){var e=c.call(this,a,b,this.getAttributeNS(d.space,d.local));return e&&function(a){this.setAttributeNS(d.space,d.local,e(a))}}var d=b.ns.qualify(a);return this.tween("attr."+a,d.local?f:e)},Fi.style=function(a,b,c){function e(){this.style.removeProperty(a)}function f(b){return null==b?e:(b+="",function(){var e,d=g(this).getComputedStyle(this,null).getPropertyValue(a);return d!==b&&(e=zf(d,b),function(b){this.style.setProperty(a,e(b),c)})})}var d=arguments.length;if(d<3){if("string"!=typeof a){d<2&&(b="");for(c in a)this.style(c,a[c],b);return this}c=""}return Ji(this,"style."+a,b,f)},Fi.styleTween=function(a,b,c){function d(d,e){var f=b.call(this,d,e,g(this).getComputedStyle(this,null).getPropertyValue(a));return f&&function(b){this.style.setProperty(a,f(b),c)}}return arguments.length<3&&(c=""),this.tween("style."+a,d)},Fi.text=function(a){return Ji(this,"text",a,Ki)},Fi.remove=function(){var a=this.namespace;return this.each("end.transition",function(){var b;this[a].count<2&&(b=this.parentNode)&&b.removeChild(this)})},Fi.ease=function(a){var c=this.id,d=this.namespace;return arguments.length<1?this.node()[d][c].ease:("function"!=typeof a&&(a=b.ease.apply(b,arguments)),na(this,function(b){b[d][c].ease=a}))},Fi.delay=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].delay:na(this,"function"==typeof a?function(d,e,f){d[c][b].delay=+a.call(d,d.__data__,e,f)}:(a=+a,function(d){d[c][b].delay=a}))},Fi.duration=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].duration:na(this,"function"==typeof a?function(d,e,f){d[c][b].duration=Math.max(1,a.call(d,d.__data__,e,f))}:(a=Math.max(1,a),function(d){d[c][b].duration=a}))},Fi.each=function(a,c){var d=this.id,e=this.namespace;if(arguments.length<2){var f=Ii,g=Hi;try{Hi=d,na(this,function(b,c,f){Ii=b[e][d],a.call(b,b.__data__,c,f)})}finally{Ii=f,Hi=g}}else na(this,function(f){var g=f[e][d];(g.event||(g.event=b.dispatch("start","end","interrupt"))).on(a,c)});return this},Fi.transition=function(){for(var e,f,g,h,a=this.id,b=++Gi,c=this.namespace,d=[],i=0,j=this.length;i<j;i++){d.push(e=[]);for(var f=this[i],k=0,l=f.length;k<l;k++)(g=f[k])&&(h=g[c][a],Mi(g,k,c,b,{time:h.time,ease:h.ease,delay:h.delay+h.duration,duration:h.duration})),e.push(g)}return Ei(d,c,b)},b.svg.axis=function(){function k(d){d.each(function(){var t,d=b.select(this),k=this.__chart__||a,l=this.__chart__=a.copy(),m=null==i?l.ticks?l.ticks.apply(l,h):l.domain():i,n=null==j?l.tickFormat?l.tickFormat.apply(l,h):H:j,o=d.selectAll(".tick").data(m,l),p=o.enter().insert("g",".domain").attr("class","tick").style("opacity",Ba),q=b.transition(o.exit()).style("opacity",Ba).remove(),r=b.transition(o.order()).style("opacity",1),s=Math.max(e,0)+g,u=gh(l),v=d.selectAll(".domain").data([0]),w=(v.enter().append("path").attr("class","domain"),b.transition(v));p.append("line"),p.append("text");var D,E,F,G,x=p.select("line"),y=r.select("line"),z=o.select("text").text(n),A=p.select("text"),B=r.select("text"),C="top"===c||"left"===c?-1:1;if("bottom"===c||"top"===c?(t=Pi,D="x",F="y",E="x2",G="y2",z.attr("dy",C<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+u[0]+","+C*f+"V0H"+u[1]+"V"+C*f)):(t=Qi,D="y",F="x",E="y2",G="x2",z.attr("dy",".32em").style("text-anchor",C<0?"end":"start"),w.attr("d","M"+C*f+","+u[0]+"H0V"+u[1]+"H"+C*f)),x.attr(G,C*e),A.attr(F,C*s),y.attr(E,0).attr(G,C*e),B.attr(D,0).attr(F,C*s),l.rangeBand){var I=l,J=I.rangeBand()/2;k=l=function(a){return I(a)+J}}else k.rangeBand?k=l:q.call(t,l,k);p.call(t,k,l),r.call(t,l,l)})}var j,a=b.scale.linear(),c=Ni,e=6,f=6,g=3,h=[10],i=null;return k.scale=function(b){return arguments.length?(a=b,k):a},k.orient=function(a){return arguments.length?(c=a in Oi?a+"":Ni,k):c},k.ticks=function(){return arguments.length?(h=d(arguments),k):h},k.tickValues=function(a){return arguments.length?(i=a,k):i},k.tickFormat=function(a){return arguments.length?(j=a,k):j},k.tickSize=function(a){var b=arguments.length;return b?(e=+a,f=+arguments[b-1],k):e},k.innerTickSize=function(a){return arguments.length?(e=+a,k):e},k.outerTickSize=function(a){return arguments.length?(f=+a,k):f},k.tickPadding=function(a){return arguments.length?(g=+a,k):g},k.tickSubdivide=function(){return arguments.length&&k},k};var Ni="bottom",Oi={top:1,right:1,bottom:1,left:1};b.svg.brush=function(){function m(a){a.each(function(){var a=b.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",q).on("touchstart.brush",q),e=a.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),a.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var f=a.selectAll(".resize").data(l,H);f.exit().remove(),f.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return Ri[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),f.style("display",m.empty()?"none":null);var i,g=b.transition(a),h=b.transition(e);c&&(i=gh(c),h.attr("x",i[0]).attr("width",i[1]-i[0]),o(g)),d&&(i=gh(d),h.attr("y",i[0]).attr("height",i[1]-i[0]),p(g)),n(g)})}function n(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+e[+/e$/.test(a)]+","+f[+/^s/.test(a)]+")"})}function o(a){a.select(".extent").attr("x",e[0]),a.selectAll(".extent,.n>rect,.s>rect").attr("width",e[1]-e[0])}function p(a){a.select(".extent").attr("y",f[0]),a.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function q(){function E(){32==b.event.keyCode&&(w||(y=null,z[0]-=e[1],z[1]-=f[1],w=2),O())}function F(){32==b.event.keyCode&&2==w&&(z[0]+=e[1],z[1]+=f[1],w=0,O())}function G(){var a=b.mouse(l),g=!1;A&&(a[0]+=A[0],a[1]+=A[1]),w||(b.event.altKey?(y||(y=[(e[0]+e[1])/2,(f[0]+f[1])/2]),z[0]=e[+(a[0]<y[0])],z[1]=f[+(a[1]<y[1])]):y=null),u&&H(a,c,0)&&(o(s),g=!0),v&&H(a,d,1)&&(p(s),g=!0),g&&(n(s),r({type:"brush",mode:w?"move":"resize"}))}function H(a,b,c){var p,q,d=gh(b),g=d[0],l=d[1],m=z[c],n=c?f:e,o=n[1]-n[0];if(w&&(g-=m,l-=o+m),p=(c?k:j)?Math.max(g,Math.min(l,a[c])):a[c],w?q=(p+=m)+o:(y&&(m=Math.max(g,Math.min(l,2*y[c]-p))),m<p?(q=p,p=m):q=m),n[0]!=p||n[1]!=q)return c?i=null:h=null,n[0]=p,n[1]=q,!0}function I(){G(),s.style("pointer-events","all").selectAll(".resize").style("display",m.empty()?"none":null),b.select("body").style("cursor",null),B.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),x(),r({type:"brushend"})}var y,A,l=this,q=b.select(b.event.target),r=a.of(l,arguments),s=b.select(l),t=q.datum(),u=!/^(n|s)$/.test(t)&&c,v=!/^(e|w)$/.test(t)&&d,w=q.classed("extent"),x=xa(l),z=b.mouse(l),B=b.select(g(l)).on("keydown.brush",E).on("keyup.brush",F);if(b.event.changedTouches?B.on("touchmove.brush",G).on("touchend.brush",I):B.on("mousemove.brush",G).on("mouseup.brush",I),s.interrupt().selectAll("*").interrupt(),w)z[0]=e[0]-z[0],z[1]=f[0]-z[1];else if(t){var C=+/w$/.test(t),D=+/^n/.test(t);A=[e[1-C]-z[0],f[1-D]-z[1]],z[0]=e[C],z[1]=f[D]}else b.event.altKey&&(y=z.slice());s.style("pointer-events","none").selectAll(".resize").style("display",null),b.select("body").style("cursor",q.style("cursor")),r({type:"brushstart"}),G()}var h,i,a=Q(m,"brushstart","brush","brushend"),c=null,d=null,e=[0,0],f=[0,0],j=!0,k=!0,l=Si[0];return m.event=function(c){c.each(function(){var c=a.of(this,arguments),d={x:e,y:f,i:h,j:i},g=this.__chart__||d;this.__chart__=d,Hi?b.select(this).transition().each("start.brush",function(){h=g.i,i=g.j,e=g.x,f=g.y,c({type:"brushstart"})}).tween("brush:brush",function(){var a=Af(e,d.x),b=Af(f,d.y);return h=i=null,function(g){e=d.x=a(g),f=d.y=b(g),c({type:"brush",mode:"resize"})}}).each("end.brush",function(){h=d.i,i=d.j,c({type:"brush",mode:"resize"}),c({type:"brushend"})}):(c({type:"brushstart"}),c({type:"brush",mode:"resize"}),c({type:"brushend"}))})},m.x=function(a){return arguments.length?(c=a,l=Si[!c<<1|!d],m):c},m.y=function(a){return arguments.length?(d=a,l=Si[!c<<1|!d],m):d},m.clamp=function(a){return arguments.length?(c&&d?(j=!!a[0],k=!!a[1]):c?j=!!a:d&&(k=!!a),m):c&&d?[j,k]:c?j:d?k:null},m.extent=function(a){var b,g,j,k,l;return arguments.length?(c&&(b=a[0],g=a[1],d&&(b=b[0],g=g[0]),h=[b,g],c.invert&&(b=c(b),g=c(g)),g<b&&(l=b,b=g,g=l),b==e[0]&&g==e[1]||(e=[b,g])),d&&(j=a[0],k=a[1],c&&(j=j[1],k=k[1]),i=[j,k],d.invert&&(j=d(j),k=d(k)),k<j&&(l=j,j=k,k=l),j==f[0]&&k==f[1]||(f=[j,k])),m):(c&&(h?(b=h[0],g=h[1]):(b=e[0],g=e[1],c.invert&&(b=c.invert(b),g=c.invert(g)),g<b&&(l=b,b=g,g=l))),d&&(i?(j=i[0],k=i[1]):(j=f[0],k=f[1],d.invert&&(j=d.invert(j),k=d.invert(k)),k<j&&(l=j,j=k,k=l))),c&&d?[[b,j],[g,k]]:c?[b,g]:d&&[j,k])},m.clear=function(){return m.empty()||(e=[0,0],f=[0,0],h=i=null),m},m.empty=function(){return!!c&&e[0]==e[1]||!!d&&f[0]==f[1]},b.rebind(m,a,"on")};var Ri={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Si=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ti=Tb.format=vc.timeFormat,Ui=Ti.utc,Vi=Ui("%Y-%m-%dT%H:%M:%S.%LZ");Ti.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Wi:Vi,Wi.parse=function(a){var b=new Date(a);return isNaN(b)?null:b},Wi.toString=Vi.toString,Tb.second=Xb(function(a){return new Ub(1e3*Math.floor(a/1e3))},function(a,b){a.setTime(a.getTime()+1e3*Math.floor(b))},function(a){return a.getSeconds()}),Tb.seconds=Tb.second.range,Tb.seconds.utc=Tb.second.utc.range,Tb.minute=Xb(function(a){return new Ub(6e4*Math.floor(a/6e4))},function(a,b){a.setTime(a.getTime()+6e4*Math.floor(b))},function(a){return a.getMinutes()}),Tb.minutes=Tb.minute.range,Tb.minutes.utc=Tb.minute.utc.range,Tb.hour=Xb(function(a){var b=a.getTimezoneOffset()/60;return new Ub(36e5*(Math.floor(a/36e5-b)+b))},function(a,b){a.setTime(a.getTime()+36e5*Math.floor(b))},function(a){return a.getHours()}),Tb.hours=Tb.hour.range,Tb.hours.utc=Tb.hour.utc.range,Tb.month=Xb(function(a){return a=Tb.day(a),a.setDate(1),a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()}),Tb.months=Tb.month.range,Tb.months.utc=Tb.month.utc.range;var Zi=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],$i=[[Tb.second,1],[Tb.second,5],[Tb.second,15],[Tb.second,30],[Tb.minute,1],[Tb.minute,5],[Tb.minute,15],[Tb.minute,30],[Tb.hour,1],[Tb.hour,3],[Tb.hour,6],[Tb.hour,12],[Tb.day,1],[Tb.day,2],[Tb.week,1],[Tb.month,1],[Tb.month,3],[Tb.year,1]],_i=Ti.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",gd]]),aj={range:function(a,c,d){return b.range(Math.ceil(a/d)*d,+c,d).map(Yi)},floor:H,ceil:H};$i.year=Tb.year,Tb.scale=function(){return Xi(b.scale.linear(),$i,_i)};var bj=$i.map(function(a){return[a[0].utc,a[1]]}),cj=Ui.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],["%B",function(a){return a.getUTCMonth()}],["%Y",gd]]);bj.year=Tb.year.utc,Tb.scale.utc=function(){return Xi(b.scale.linear(),bj,cj)},b.text=zb(function(a){return a.responseText}),b.json=function(a,b){return Ab(a,"application/json",ej,b)},b.html=function(a,b){return Ab(a,"text/html",fj,b)},b.xml=zb(function(a){return a.responseXML}),"function"==typeof define&&define.amd?(this.d3=b,define(b)):"object"==typeof module&&module.exports?module.exports=b:this.d3=b}();